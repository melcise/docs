<!doctype html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Exosite API Documentation</title>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <!-- Favicon -->
  <link rel="icon" href="/assets/favicon.png">

  <!-- Style -->
  <link  href='/assets/theme-white/style.css' rel='stylesheet'>
  <link href='/assets/style.css' rel='stylesheet'>

  <!-- Meta -->
  <meta content="Exosite APIs" property="og:title">
  <meta content="Documentation for Exosite's APIs" name="description">

  <!-- Status Page API Lib -->
  <script type="text/javascript" src="https://statuspage-production.s3.amazonaws.com/se.js"></script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44116002-2', 'auto');
    ga('send', 'pageview');

  </script>

  <!-- Initializer -->
  <script></script>
</head>
<body role='flatdoc' class="no-literate">
  <div class='header'>
    <div class='left'>
      <a href="/">
        <img src="/assets/logo-2x.png" id="logo">
      </a>
    </div>
    <div class='links right'>
      <ul>
        <li><input id="docsearch" placeholder="Search..."></li>
        <li><a href='http://status.exosite.com' id="status-text"><div id="status-icon"></div>Status</a></li>
        <li><a href='https://support.exosite.com'>Support</a></li>
        <li><a href='https://github.com/exosite/api'>Contribute</a></li>
      </ul>
    </div>
  </div>

  <div class='content-root'>
    <div class='menubar'>
      <ul class='topmenu'>
        <li><a class="level-0" href="/">Overview</a></li>
        <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Tutorials</p>
          <li><a class="level-0" href="/tutorials/get-started">Getting Started</a></li>
        </ul>
        <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Device APIs</p>
          <li><a class="level-0" href="/coap">CoAP</a></li>
          <li><a class="level-0" href="/http">HTTP</a></li>
          <li><a class="level-0" href="/udp">UDP Single Shot</a></li>
        </ul>
        <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Application APIs</p>
          <li><a class="level-0" href="/rpc">Remote Procedure Call - RPC</a></li>
          <li><a class="level-0" href="/provision">Provision Management</a></li>
          <li><a class="level-0" href="/scripting">One Platform Scripting</a></li>
          <li><a class="level-0" href="/widget">Portals Custom Widget</a></li>
          <li><a class="level-0" href="/portals">Portals API</a></li>
        </ul>
        <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Reference</p>
          <li><a class="level-0" href="https://support.exosite.com/hc/en-us/sections/200072527">One Platform</a></li>
          <li><a class="level-0" href="https://support.exosite.com/hc/en-us/sections/200072708">Portals Web Application</a></li>
          <li><a class="level-0" href="https://support.exosite.com/hc/en-us/sections/200054894">Portals Subdomain Admin</a></li>
        </ul>
        <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Other</p>
          <li><a class="level-0" href="/commander">Chat Interface - Commander</a></li>
          <li><a class="level-0" href="https://github.com/exosite/exoline/blob/master/README.md">Command Line Interface - Exoline</a></li>
          <li><a class="level-0" href="https://github.com/exosite-labs">Libraries</a></li>
        </ul>
      </ul>
      <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'><h1 id="portals-api-beta-">Portals API (BETA)</h1>
<p><strong>This API is in beta testing and may be to subject to the occasional tweak. Any such tweaks will be documented here.</strong></p>
<p>Portals provides a user authentication and management system on top of the One Platform. The Portals API provides access to Portals functionality using a REST-style HTTP API, using the JSON format in request and response bodies, and basic authentication where a Portals account is required.</p>
<h2 id="overview">Overview</h2>
<hr>
<h3 id="api-endpoints">API Endpoints</h3>
<h4 id="accounts">Accounts</h4>
<ul>
<li><a href="#get-all-user-accounts">Get all user accounts</a></li>
<li><a href="#get-user-account-by-email">Get user account by email</a></li>
</ul>
<h4 id="client-models">Client Models</h4>
<ul>
<li><a href="#update-client-model">Update client model</a></li>
<li><a href="#get-client-model">Get client model</a></li>
<li><a href="#list-client-models">List client models</a></li>
<li><a href="#delete-client-model">Delete client model</a></li>
</ul>
<h4 id="collections-bulk-api-">Collections (Bulk API)</h4>
<ul>
<li><a href="#get-multiple-data-sources">Get multiple data sources</a></li>
<li><a href="#get-multiple-devices">Get multiple devices</a></li>
<li><a href="#get-multiple-groups">Get multiple groups</a></li>
<li><a href="#get-multiple-users">Get multiple users</a></li>
</ul>
<h4 id="data-sources">Data Sources</h4>
<ul>
<li><a href="#create-portal-data-source">Create portal data source</a></li>
<li><a href="#update-data-sources">Update data sources</a></li>
<li><a href="#get-data-source">Get data source</a></li>
<li><a href="#get-multiple-data-sources">Get multiple data sources</a></li>
</ul>
<h4 id="data-sources-data">Data Sources Data</h4>
<ul>
<li><a href="#get-data-source-data">Get data source data</a></li>
<li><a href="#appendinsert-data-source-data">Append/insert data source data</a></li>
<li><a href="#append-data-source-data-in-json-format">Append data source data in JSON format</a></li>
<li><a href="#delete-data-source-data">Delete data source data</a></li>
</ul>
<h4 id="device">Device</h4>
<ul>
<li><a href="#create-new-device-under-a-portal-of-authenticated-user">Create new device under a portal of authenticated user</a></li>
</ul>
<h4 id="devices">Devices</h4>
<ul>
<li><a href="#create-device">Create device</a></li>
<li><a href="#update-device">Update device</a></li>
<li><a href="#get-device">Get device</a></li>
<li><a href="#get-multiple-devices">Get multiple devices</a></li>
<li><a href="#delete-device">Delete device</a></li>
</ul>
<h4 id="domain">Domain</h4>
<ul>
<li><a href="#list-domains-of-authenticated-user">List domains of authenticated user</a></li>
</ul>
<h4 id="file-systems">File Systems</h4>
<ul>
<li><a href="#append-to-a-directory">Append to a directory</a></li>
<li><a href="#get-a-file">Get a file</a></li>
<li><a href="#get-a-file-content">Get a file content</a></li>
</ul>
<h4 id="groups">Groups</h4>
<ul>
<li><a href="#create-group-under-user">Create group under user</a></li>
<li><a href="#update-group">Update group</a></li>
<li><a href="#get-group">Get group</a></li>
<li><a href="#get-multiple-groups">Get multiple groups</a></li>
<li><a href="#delete-group">Delete group</a></li>
</ul>
<h4 id="portal">Portal</h4>
<ul>
<li><a href="#list-portals-of-authenticated-user">List portals of authenticated user</a></li>
</ul>
<h4 id="portals">Portals</h4>
<ul>
<li><a href="#create-portal">Create portal</a></li>
<li><a href="#update-portal">Update portal</a></li>
<li><a href="#get-portal">Get portal</a></li>
<li><a href="#delete-portal-by-id">Delete portal by id</a></li>
<li><a href="#delete-portal-by-rid">Delete portal by rid</a></li>
</ul>
<h4 id="serial-numbers-sn-">Serial Numbers (sn)</h4>
<ul>
<li><a href="#get-serial-number">Get serial number</a></li>
</ul>
<h4 id="themes">Themes</h4>
<ul>
<li><a href="#update-theme">Update theme</a></li>
<li><a href="#get-theme">Get theme</a></li>
<li><a href="#list-themes">List themes</a></li>
<li><a href="#delete-theme">Delete theme</a></li>
</ul>
<h4 id="user">User</h4>
<ul>
<li><a href="#register-new-user-account">Register new user account</a> (Deprecated)</li>
<li><a href="#reset-user-account-password">Reset user account password</a></li>
</ul>
<h4 id="users">Users</h4>
<ul>
<li><a href="#create-user">Create user</a></li>
<li><a href="#activate-a-user-account-using-activation-key">Activate a user account using activation key</a></li>
<li><a href="#update-user">Update user</a></li>
<li><a href="#get-all-users">Get all users</a></li>
<li><a href="#get-all-user-portals">Get all user portals</a></li>
<li><a href="#get-multiple-users">Get multiple users</a></li>
<li><a href="#get-user">Get user</a></li>
<li><a href="#get-user-through-readtoken">Get user through readtoken</a></li>
<li><a href="#get-user-token">Get user token</a></li>
<li><a href="#get-user-readtoken">Get user readtoken</a></li>
<li><a href="#get-user-token-for-OpenID-user">Get user token for OpenID user</a> (For App)</li>
<li><a href="#get-user-portal">Get user portal</a></li>
<li><a href="#get-all-users-portals-shares">Get all users portals shares</a></li>
<li><a href="#create-user-portal-share">Create user portal share</a></li>
<li><a href="#get-user-portal-shares">Get user portal shares</a></li>
<li><a href="#delete-user-portal-shares">Delete user portal share</a></li>
<li><a href="#delete-user">Delete user</a></li>
</ul>
<h3 id="api-index">API Index</h3>
<h4 id="-accounts">/accounts</h4>
<ul>
<li>[GET] <a href="#get-all-user-accounts">/api/portals/v1/accounts</a></li>
<li>[GET] <a href="#get-user-account-by-email">/api/portals/v1/accounts/{user-email}</a></li>
</ul>
<h4 id="-client-models">/client-models</h4>
<ul>
<li>[GET] <a href="#get-client-model">/api/portals/v1/client-models/</a></li>
<li>[GET] <a href="#list-client-models">/api/portals/v1/client-models/{vendor}/{name}</a></li>
<li>[PUT] <a href="#update-client-model">/api/portals/v1/client-models/{vendor}/{name}</a></li>
<li>[DELETE] <a href="#delete-client-model">/api/portals/v1/client-models/{vendor}/{name}</a></li>
</ul>
<h4 id="-data-sources">/data-sources</h4>
<ul>
<li>[GET] <a href="#get-data-source">/api/portals/v1/data-sources/{data-source-rid}</a></li>
<li>[PUT] <a href="#update-data-sources">/api/portals/v1/data-sources/{data-source-rid}</a></li>
<li>[GET] <a href="#get-data-source-data">/api/portals/v1/data-sources/{data-source-rid}/data</a></li>
<li>[POST] <a href="#appendinsert-data-source-data">/api/portals/v1/data-sources/{data-source-rid}/data</a></li>
<li>[POST] <a href="#append-data-source-data-in-json-format">/api/portals/v1/data-sources/{data-source-rid}/json</a></li>
<li>[DELETE] <a href="#delete-data-source-data">/api/portals/v1/data-sources/{data-source-rid}/data</a></li>
</ul>
<h4 id="-device">/device</h4>
<ul>
<li>[POST] <a href="#create-new-device-under-a-portal-of-authenticated-user">/api/portals/v1/device</a></li>
</ul>
<h4 id="-devices">/devices</h4>
<ul>
<li>[GET] <a href="#get-device">/api/portals/v1/devices/{device-rid}</a></li>
<li>[PUT] <a href="#update-device">/api/portals/v1/devices/{device-rid}</a></li>
<li>[DELETE] <a href="#delete-device">/api/portals/v1/devices/{device-rid}</a></li>
</ul>
<h4 id="-domain">/domain</h4>
<ul>
<li>[GET] <a href="#list-domains-of-authenticated-user">/api/portals/v1/domain/</a></li>
</ul>
<h4 id="-fs">/fs</h4>
<ul>
<li>[GET] <a href="#get-a-file">/api/portals/v1/fs/{directory-path}/{subdirectory}</a></li>
<li>[GET] <a href="#get-a-file-content">/api/portals/v1/fs/{directory-path}/{subdirectory}/{field-name}</a></li>
</ul>
<h4 id="-groups">/groups</h4>
<ul>
<li>[GET] <a href="#get-group">/api/portals/v1/groups/{group-id}</a></li>
<li>[PUT] <a href="#update-group">/api/portals/v1/groups/{group-id}</a></li>
<li>[DELETE] <a href="#delete-group">/api/portals/v1/groups/{group-id}</a></li>
</ul>
<h4 id="-portal">/portal</h4>
<ul>
<li>[GET] <a href="#list-portals-of-authenticated-user">/api/portals/v1/portal/ </a></li>
</ul>
<h4 id="-portals">/portals</h4>
<ul>
<li>[GET] <a href="#get-portal">/api/portals/v1/portals/{portal-id}</a></li>
<li>[PUT] <a href="#update-portal">/api/portals/v1/portals/{portal-id}</a></li>
<li>[DELETE] <a href="#delete-portal-by-id">/api/portals/v1/portals/{portal-id}</a></li>
<li>[DELETE] <a href="#delete-portal-by-rid">/api/portals/v1/portals/{portal-rid}/ByRid</a></li>
<li>[POST] <a href="#create-portal-data-source">/api/portals/v1/portals/{portal-id}/data-sources</a></li>
<li>[POST] <a href="#create-device">/api/portals/v1/portals/{portal-id}/devices</a></li>
</ul>
<h4 id="-sn">/sn</h4>
<ul>
<li>[GET] <a href="#get-serial-number">/api/portals/v1/client-models/{vendor}/{name}/sn/{serial-number}</a></li>
</ul>
<h4 id="-themes">/themes</h4>
<ul>
<li>[GET] <a href="#list-themes">/api/portals/v1/themes/</a></li>
<li>[GET] <a href="#get-theme">/api/portals/v1/themes/{themeid}</a></li>
<li>[PUT] <a href="#update-theme">/api/portals/v1/themes/{themeid}</a></li>
<li>[DELETE]<a href="#delete-theme">/api/portals/v1/themes/{themeid}</a></li>
</ul>
<h4 id="-user">/user</h4>
<ul>
<li>[POST] <a href="#register-new-user-account">/api/portals/v1/user</a></li>
<li>[POST] <a href="#reset-user-account-password">/api/portals/v1/user/password</a></li>
</ul>
<h4 id="-users">/users</h4>
<ul>
<li>[GET] <a href="#get-all-users">/api/portals/v1/users</a></li>
<li>[POST] <a href="#create-user">/api/portals/v1/users</a></li>
<li>[GET] <a href="#get-user">/api/portals/v1/users/{user-id}</a></li>
<li>[GET] <a href="#get-user-through-readtoken">/api/portals/v1/users/{user-id}?readtoken={user-readtoken}</a></li>
<li>[PUT] <a href="#update-user">/api/portals/v1/users/{user-id}</a></li>
<li>[DELETE] <a href="#delete-user">/api/portals/v1/users/{user-id}</a></li>
<li>[POST] <a href="#create-group-under-user">/api/portals/v1/users/{user-id}/groups</a></li>
<li>[GET] <a href="#get-all-user-portals">/api/portals/v1/users/{user-id}/portals</a></li>
<li>[POST] <a href="#create-portal">/api/portals/v1/users/{user-id}/portals</a></li>
<li>[GET] <a href="#get-all-user-portals-shares">/api/portals/v1/users/{user-id}/portals/shares</a></li>
<li>[GET] <a href="#get-user-portal">/api/portals/v1/users/{user-id}/portals/{portal-id}</a></li>
<li>[POST]<a href="#create-user-portal-share">/api/portals/v1/users/{user-id}/portals/{portal-id}/shares</a></li>
<li>[GET] <a href="#get-user-portal-shares">/api/portals/v1/users/{user-id}/portals/{portal-id}/shares</a></li>
<li>[DELETE] <a href="#delete-user-portal-shares">/api/portals/v1/users/{user-id}/portals/{portal-id}/shares</a></li>
<li>[GET] <a href="#get-user-token">/api/portals/v1/users/{user-id}/token</a></li>
<li>[GET] <a href="#get-user-readtoken">/api/portals/v1/users/{user-id}/readtoken</a></li>
<li>[GET] <a href="#get-user-token-for-OpenID-user">/api/portals/v1/users/_this/token</a> (For App)</li>
<li>[GET] <a href="#collections-bulk-request">/api/portals/v1/users/_this/data-sources/[{data-source-rid},{data-source-rid},...]</a></li>
<li>[GET] <a href="#collections-bulk-request">/api/portals/v1/users/_this/devices/[{device-rid},device-rid},...]</a></li>
<li>[GET] <a href="#collections-bulk-request">/api/portals/v1/users/_this/groups/[{group-id},{group-id},...]</a></li>
<li>[GET] <a href="#collections-bulk-request">/api/portals/v1/users/_this/users/[{user-id},{user-id},...]</a></li>
</ul>
<h3 id="rest">REST</h3>
<p>The API uses a REST-style API, which means that:</p>
<ul>
<li>HTTP verbs in the request indicate the type of action the client wants to take (e.g. GET, POST)</li>
<li>HTTP status in the response indicate (e.g. 200 for success, 400 for bad request or 401 for authentication error)</li>
</ul>
<h3 id="request-and-response-format">Request and Response Format</h3>
<p>Request and response bodies, when present, are formatted using JSON. For more see <a href="http://json.org">http://json.org</a></p>
<p>Note that the JSON examples below are sometimes formatted with extra whitespace for clarity.</p>
<p>The header MUST include:</p>
<pre><code>Content-type: application/json; charset=utf-8
</code></pre><h3 id="authentication">Authentication</h3>
<p>Some API endpoints require a Portals email and password also username and password to combination for authentication. These are passed using basic access authentication. See this link for details about this method of authentication:</p>
<p><a href="http://en.wikipedia.org/wiki/Basic_access_authentication">http://en.wikipedia.org/wiki/Basic_access_authentication</a></p>
<h3 id="domain">Domain</h3>
<p>For some API endpoints, the domain of the request URL indicates information about which domain should be affected. For example, a GET request to:</p>
<pre><code>https://mydomain.exosite.com/api/portals/v1/portal/
</code></pre><p>...will return a different array of portals than a GET request to:</p>
<pre><code>https://portals.exosite.com/api/portals/v1/portal/
</code></pre><p>Also, the domain is used for user authentication. Endpoints that are affected by the querying domain are indicated below.</p>
<h2 id="types">Types</h2>
<hr>
<p>The following types are common to several API endpoints.</p>
<h3 id="account-object">Account object</h3>
<p>An object containing information about a Portals user.</p>
<pre><code>{
    &quot;email&quot;: &lt;short-string&gt;,
    &quot;fullName&quot;: &lt;short-string&gt;,
    &quot;id&quot;: &lt;id&gt;,
    &quot;meta&quot;: &lt;meta&gt;,
    &quot;phoneNumber&quot;: &lt;short-string&gt;,
    &quot;userName&quot;: &lt;short-string&gt;
}
</code></pre><ul>
<li><code>&quot;email&quot;</code> is the user&#39;s email address. It is a string of fewer than 256 characters.</li>
<li><code>&quot;fullName&quot;</code> is the user&#39;s full name. It is a string of fewer than 256 characters.</li>
<li><code>&quot;id&quot;</code> is a numeric identifier for the user.</li>
<li><code>&quot;meta&quot;</code> may be any type. It contains application-specific information describing the user. It MUST be less than 2 megabytes long when it&#39;s seralized to a JSON string.</li>
<li><code>&quot;phoneNumber&quot;</code> is the user&#39;s phone number. It is a string of fewer than 256 characters.</li>
<li><code>&quot;userName&quot;</code> is a string identifier for the user. It is a string of fewer than 256 characters.</li>
</ul>
<h3 id="client-model-object">Client model object</h3>
<p>A sample client model object looks like this:</p>
<pre><code>{
    &quot;id&quot;: &quot;samplevendor\/samplemodel&quot;,
    &quot;domainID&quot;: &quot;0000000000&quot;,
    &quot;vendor&quot;: &quot;samplevendor&quot;,
    &quot;friendly&quot;: &quot;dfhg&quot;,
    &quot;name&quot;: &quot;samplemodel&quot;,
    &quot;cloneRID&quot;: &quot;29770f4f96122ffd33af1f6edb1b875810c7844a&quot;,
    &quot;viewID&quot;: &quot;0000000000&quot;,
    &quot;exampleSN&quot;: &quot;&quot;,
    &quot;sharedSN&quot;: &quot;&quot;,
    &quot;convertSN&quot;: &quot;no&quot;,
    &quot;alternateSN&quot;: &quot;&quot;,
    &quot;noteSetup&quot;: &quot;&quot;,
    &quot;noteName&quot;: &quot;&quot;,
    &quot;noteLocation&quot;: &quot;(optional - can be a string or GPS decimal degrees)&quot;,
    &quot;pictureDevice&quot;: &quot;https:\/\/portals.yourdomain.com\/cache\/model\/samplevendor\/samplemodel_PictureDevice.png&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;pictureSN&quot;: &quot;&quot;,
    &quot;confirmPage&quot;: &quot;Your [client model name] [device] was successfully enabled with the CIK\u003Cbr\/\u003E[device cik]\u003Cbr\/\u003E\u003Cbr\/\u003EYour [device] will need to connect to the Exosite platform within 24 hours or your provision request will expire and you will need to re-enable your [device] from the Re-Enable block in your [device] pop-up. If you have any problems connecting, please contact your [device] provider at:\u003Cbr\/\u003E\u003Cbr\/\u003E\u003Cb\u003ECompany name:\u003C\/b\u003E [company name]\u003Cbr\/\u003E\u003Cb\u003ECompany email contact information:\u003C\/b\u003E [company email]\u003Cbr\/\u003E&quot;,
    &quot;companyName&quot;: &quot;&quot;,
    &quot;contactEmail&quot;: &quot;&quot;,
    &quot;:published&quot;: true
}
</code></pre><h3 id="data-source-object">Data source object</h3>
<p>A data source object describes a Portals time series data source.</p>
<pre><code>{
    &quot;data&quot;: [
        [
            &lt;unix-timestamp-1&gt;,
            &lt;value-1&gt;
        ],
        [
            &lt;unix-timestamp-2&gt;,
            &lt;value-2&gt;
        ],
        ...
    ],
    &quot;info&quot;: {
        &quot;basic&quot;: &lt;basic&gt;,
        &quot;description&quot;: &lt;description&gt;,
        &quot;shares&quot;: &lt;shares&gt;,
        &quot;storage&quot;: &lt;storage&gt;,
        &quot;subscribers&quot;: &lt;subscribers&gt;,
        &quot;tags&quot;: &lt;tags&gt;
    },
    &quot;rid&quot;: &lt;rid&gt;,
    &quot;unit&quot;: &lt;unit&gt;
}
</code></pre><ul>
<li><p><code>&quot;data&quot;</code> is an array of data points. A data point has a unit timestamp and a value.</p>
<ul>
<li><p><code>&lt;unix-timestamp-N&gt;</code> is a <a href="http://en.wikipedia.org/wiki/Unix_time">Unix timestamp</a>, measured in number of seconds since the epoch.</p>
</li>
<li><p><code>&lt;value-N&gt;</code> may be a string, int, or float depending on the data source type.</p>
</li>
</ul>
</li>
<li><p><code>&quot;info&quot;</code> is a dataport object documented in the <a href="https://github.com/exosite/docs/tree/master/rpc#info">remote procedure call documentation</a>. But only basic, description, shares, storage, subscribers and tags are exposed.</p>
</li>
<li><code>&quot;rid&quot;</code> is the RID of a data source.</li>
<li><code>&quot;unit&quot;</code> is the unit of a data source.</li>
</ul>
<h3 id="device-object">Device object</h3>
<p>A device object describes a device in Portals.</p>
<pre><code>{
    &quot;dataSources&quot;: [
        &lt;data-source-rid-1&gt;,
        &lt;data-source-rid-2&gt;,
        ...
    ],
    &quot;info&quot;: {
        &quot;aliases&quot;: &lt;aliases&gt;,
        &quot;basic&quot;: &lt;basic&gt;,
        &quot;description&quot;: &lt;description&gt;,
        &quot;key&quot;: &lt;key&gt;,
        &quot;shares&quot;: &lt;shares&gt;,
        &quot;subscribers&quot;: &lt;subscribers&gt;,
        &quot;tagged&quot;: &lt;tagged&gt;,
        &quot;tags&quot;: &lt;tags&gt;,
    },
    &quot;members&quot;: [
        &lt;permission-1&gt;,
        &lt;permission-2&gt;,
        ...
    ],
    &quot;model&quot;: &lt;model-id&gt;,
    &quot;rid&quot;: &lt;rid&gt;,
    &quot;sn&quot;: &lt;sn&gt;,
    &quot;type&quot;: &lt;device-type&gt;,
    &quot;vendor&quot;: &lt;vendor-id&gt;
}
</code></pre><ul>
<li><p><code>&quot;dataSources&quot;</code> is an array of data source IDs a device has.</p>
<ul>
<li><code>&lt;data-source-rid-N&gt;</code> is a 40 character hex string representing the data source&#39;s RID in the One Platform</li>
</ul>
</li>
<li><p><code>&quot;info&quot;</code> is an client object documented in the <a href="https://github.com/exosite/docs/tree/master/rpc#info">remote procedure call documentation</a>. But only aliases, basic, description, key, shares, subscribers, tagged and tags are exposed.</p>
<ul>
<li><code>&lt;key&gt;</code> is a 40 character hex string representing the client&#39;s CIK in the One Platform or null if the authorized user doesn&#39;t have ___admin permission to this device.</li>
</ul>
</li>
<li><p><code>&quot;members&quot;</code> is an array of <a href="#permission-object">permission objects</a> listing the members of the device.</p>
</li>
<li><code>&quot;model&quot;</code> is a string identifying the model</li>
<li><code>&quot;rid&quot;</code> is the RID of a device.</li>
<li><code>&quot;sn&quot;</code> is a string representing the serial number of the device</li>
<li><p><code>&quot;type&quot;</code> is a constant string representing the device type.  Possible values are:</p>
<ul>
<li><code>&quot;vendor&quot;</code></li>
</ul>
</li>
<li><p><code>&quot;vendor-id&quot;</code> is a string identifying the vendor</p>
</li>
</ul>
<h3 id="group-object">Group object</h3>
<p>A group object describes a Portals permissions group.</p>
<pre><code>{
    &quot;id&quot;: &lt;group-id&gt;,
    &quot;members&quot;: [
        &lt;permission-1&gt;,
        ...
    ],
    &quot;meta&quot;: &lt;meta&gt;,
    &quot;name&quot;: &lt;short-text&gt;,
    &quot;permissions&quot;: [
        &lt;permission-1&gt;,
        ...
    ],
    &quot;userId&quot;: &lt;user-id&gt;
}
</code></pre><ul>
<li><code>&quot;id&quot;</code> is a number identifying the group.</li>
<li><code>&quot;members&quot;</code> is an array of <a href="#permission-object">permission objects</a> listing the members of the group.</li>
<li><code>&quot;meta&quot;</code> may be any type. It contains application-specific information describing the group. It MUST be less than 2 megabytes long when it&#39;s seralized to a JSON string.</li>
<li><code>&quot;name&quot;</code> is the group name. It is a string of fewer than 256 characters. It MUST be unique among the same user in a domain.</li>
<li><code>&quot;permissions&quot;</code> is an array of <a href="#permission-object">permission objects</a> describing Portals resources members of the group may access.</li>
<li><code>&quot;userId&quot;</code> is a number identifying the owner of the group.</li>
</ul>
<h3 id="permission-object">Permission object</h3>
<p>A permission object describes a level of access to a particular Portals resource identified by <code>&quot;oid&quot;</code>, and is filtered by current domain of its resource, which means a permission list never contains resources which not belong to current domain.</p>
<pre><code>{
    &quot;access&quot;: &lt;access&gt;,
    &quot;oid&quot;: {
        &quot;id&quot;: &lt;id&gt;,
        &quot;type&quot;: &lt;type&gt;
    }
}
</code></pre><ul>
<li><p><code>&quot;access&quot;</code> is a constant string. Possible values are:</p>
<ul>
<li><p><code>&quot;___admin&quot;</code></p>
</li>
<li><p><code>&quot;d_____fs&quot;</code></p>
</li>
</ul>
</li>
<li><p><code>&quot;oid&quot;</code> is an object identifying the resource with the permission.</p>
<ul>
<li><p><code>&lt;id&gt;</code> is a number identifying the resource.</p>
</li>
<li><p><code>&lt;type&gt;</code> is a string identifying the thing to which the permission provides access. It may have one of the following values:</p>
<ul>
<li><p><code>&quot;DataSource&quot;</code></p>
</li>
<li><p><code>&quot;Device&quot;</code></p>
</li>
<li><p><code>&quot;Domain&quot;</code></p>
</li>
<li><p><code>&quot;Group&quot;</code></p>
</li>
<li><p><code>&quot;Portal&quot;</code></p>
</li>
<li><p><code>&quot;User&quot;</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="portal-object">Portal object</h3>
<p>An object containing information about a portal.</p>
<pre><code>{
    &quot;devices&quot;: [
        &lt;device-rid-1&gt;,
        &lt;device-rid-2&gt;,
        ...
    ],
    &quot;id&quot;: &lt;id&gt;,
    &quot;info&quot;: {
        &quot;aliases&quot;: &lt;aliases&gt;,
        &quot;basic&quot;: &lt;basic&gt;,
        &quot;description&quot;: &lt;description&gt;,
        &quot;key&quot;: &lt;key&gt;,
        &quot;shares&quot;: &lt;shares&gt;,
        &quot;subscribers&quot;: &lt;subscribers&gt;,
        &quot;tagged&quot;: &lt;tagged&gt;,
        &quot;tags&quot;: &lt;tags&gt;,
    },
    &quot;planId&quot;: &lt;plan-id&gt;,
}
</code></pre><ul>
<li><p><code>&quot;devices&quot;</code> is an array of identifiers for devices of which the portal owns.</p>
<ul>
<li><code>&lt;device-rid-N&gt;</code> is a 40 character hex string representing the device&#39;s RID in the One Platform</li>
</ul>
</li>
<li><p><code>&quot;id&quot;</code> is a numeric identifier for the portal.</p>
</li>
<li><p><code>&quot;info&quot;</code> is an client object documented in the <a href="https://github.com/exosite/docs/tree/master/rpc#info">remote procedure call documentation</a>. But only aliases, basic, description, key, shares, subscribers, tagged and tags are exposed.</p>
<ul>
<li><code>&lt;key&gt;</code> is a 40 character hex string representing the client&#39;s CIK in the One Platform or null if the authorized user doesn&#39;t have ___admin permission to this portal.</li>
</ul>
</li>
<li><p><code>&quot;planId&quot;</code> is a numeric identifier for the plan of the portal.</p>
</li>
</ul>
<h3 id="theme-object">Theme object</h3>
<p>A sample theme object looks like this:</p>
<pre><code>{
    &quot;id&quot;: &quot;3077881923&quot;,
    &quot;name&quot;: &quot;sample_theme&quot;,
    &quot;description&quot;: &quot;this is a description&quot;,
    &quot;:default&quot;: true,
    &quot;config&quot;: {
        &quot;dashboard_background&quot;: {
            &quot;background_color&quot;: &quot;F9F9F9&quot;,
            &quot;background_image&quot;: &quot;&quot;,
            &quot;background_attachment&quot;: &quot;scroll&quot;,
            &quot;background_repeat&quot;: &quot;repeat-y&quot;,
            &quot;background_position&quot;: &quot;left top&quot;
        },
        &quot;header_logo&quot;: &quot;https:\/\/portals.yourdomain.com\/cache\/theme\/0_1923506535_header_logo.png&quot;,
        &quot;header_bkimage&quot;: &quot;https:\/\/portals.yourdomain.com\/static\/png\/skin_portals_bannerbg.png?62d38477d5d7a46968a168c460bf76fc&quot;,
        &quot;header_title_color&quot;: &quot;D5E04D&quot;,
        &quot;header_subtitle_color&quot;: &quot;FFFFFF&quot;,
        &quot;header_titles_position_top&quot;: &quot;1.375em&quot;,
        &quot;header_linktext_color&quot;: &quot;E5E5E5&quot;,
        &quot;header_linktextover_color&quot;: &quot;D5E04D&quot;,
        &quot;header_dropdown_text_color&quot;: &quot;FFFFFF&quot;,
        &quot;header_linktext_position_top&quot;: &quot;1.5em&quot;,
        &quot;header_portalmenu_current_color&quot;: &quot;0000FF&quot;,
        &quot;footer_text&quot;: &quot;ANY DEVICE. ANY DATA. ANY WHERE.&quot;,
        &quot;footer_text_color&quot;: &quot;D5E04D&quot;,
        &quot;footer_bar_color&quot;: &quot;D5E04D&quot;,
        &quot;footer_linktext_color&quot;: &quot;5C5D60&quot;,
        &quot;footer_linktextover_color&quot;: &quot;000000&quot;,
        &quot;block_title_text_color&quot;: &quot;000000&quot;,
        &quot;block_title_linkover_color&quot;: &quot;010101&quot;,
        &quot;block_title_back_color&quot;: &quot;D5E04D&quot;,
        &quot;block_invert_icons&quot;: &quot;&quot;,
        &quot;managepage_highlight_text_color&quot;: &quot;0000FF&quot;,
        &quot;dashboard_thumbnail&quot;: &quot;&quot;,
        &quot;thankyoupage_title_text_color&quot;: &quot;D5E04D&quot;,
        &quot;browser_tab_text&quot;: &quot;Exosite Portals&quot;,
        &quot;browser_tab_icon&quot;: &quot;https:\/\/portals.yourdomain.com\/static\/png\/icon_exosite.png?834282e60aa5c2cf2d3a6894307437dd&quot;,
        &quot;admin_menu_style&quot;: {
            &quot;admin_menu_title&quot;: &quot;Domain Admin&quot;,
            &quot;manage_menu_title&quot;: &quot;Manage&quot;,
            &quot;secondary_menu_title&quot;: &quot;Portal Menu&quot;,
            &quot;account_menu_title&quot;: &quot;Account&quot;,
            &quot;menu_title_color&quot;: &quot;E5E5E5&quot;,
            &quot;background_color&quot;: &quot;5C5D60&quot;,
            &quot;background_hover_color&quot;: &quot;A6A6A6&quot;,
            &quot;text_color&quot;: &quot;FFFFFF&quot;,
            &quot;sub_background_color&quot;: &quot;FFFFFF&quot;,
            &quot;sub_background_hover_color&quot;: &quot;A6A6A6&quot;,
            &quot;sub_text_color&quot;: &quot;5C5D60&quot;,
            &quot;text_active_color&quot;: &quot;D5E04D&quot;
        },
        &quot;jsCode&quot;: &quot;&quot;
    },
    &quot;code&quot;: &quot;&quot;
}
</code></pre><h3 id="user-object">User object</h3>
<p>An object containing information about a Portals user.</p>
<pre><code>{
    &quot;activated&quot;: &lt;boolean&gt;,
    &quot;email&quot;: &lt;short-string&gt;,
    &quot;fullName&quot;: &lt;short-string&gt;,
    &quot;groups&quot;: [
        &lt;group-id-1&gt;,
        &lt;group-id-2&gt;,
        ...
    ],
    &quot;id&quot;: &lt;id&gt;,
    &quot;meta&quot;: &lt;meta&gt;,
    &quot;permissions&quot;: [
        &lt;permission-1&gt;,
        ...
    ],
    &quot;phoneNumber&quot;: &lt;short-string&gt;,
    &quot;userName&quot;: &lt;short-string&gt;
}
</code></pre><ul>
<li><code>&quot;activated&quot;</code> indicates whether a user is activated in the domain or not.</li>
<li><code>&quot;email&quot;</code> is the user&#39;s email address. It is a string of fewer than 256 characters.</li>
<li><code>&quot;fullName&quot;</code> is the user&#39;s full name. It is a string of fewer than 256 characters.</li>
<li><p><code>&quot;groups&quot;</code> is an array of identifiers for groups of which the user is a member.</p>
<ul>
<li><code>&lt;group-id-N&gt;</code> is a number identifying the group.</li>
</ul>
</li>
<li><p><code>&quot;id&quot;</code> is a numeric identifier for the user.</p>
</li>
<li><code>&quot;meta&quot;</code> may be any type. It contains application-specific information describing the user. It MUST be less than 2 megabytes long when it&#39;s seralized to a JSON string.</li>
<li><code>&quot;permissions&quot;</code> is an array of <a href="#permission-object">permission objects</a> describing Portals resources the user may access.</li>
<li><code>&quot;phoneNumber&quot;</code> is the user&#39;s phone number. It is a string of fewer than 256 characters.</li>
<li><code>&quot;userName&quot;</code> is a string identifier for the user. It is a string of fewer than 256 characters.</li>
</ul>
<h3 id="user-id">User ID</h3>
<p>Anywhere an API endpoint takes a user ID, you can instead use _this as an alias for the user ID of the authenticated user.</p>
<h4 id="example">example</h4>
<p>Given a request is authenticated as a user with ID being 1234.</p>
<p><code>GET /api/portals/v1/users/1234</code></p>
<p>yields the same result as</p>
<p><code>GET /api/portals/v1/users/_this</code></p>
<h3 id="caveats">Caveats</h3>
<p>API return messages may be subject to upgrades and improvements (e.g., additional fields may be added). Developers using Exosite APIs should not hard code non-upwards-compatible elements such as field counts, IP addresses, or header length.</p>
<h2 id="api-endpoints">API Endpoints</h2>
<hr>
<h3 id="accounts">Accounts</h3>
<h4 id="get-all-user-accounts">Get all user accounts</h4>
<p><code>GET /api/portals/v1/accounts</code></p>
<p>Get account information about all users.</p>
<h5 id="request">Request</h5>
<p>Request body is empty</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing an array of <a href="#account-object">account object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/accounts&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:42:30 GMT
Status: 200 OK
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;email&quot;: &quot;updatedemail@gmail.com&quot;,
        &quot;fullName&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;3167859736&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;
    },
    {
        &quot;email&quot;: &quot;olduseremail@gmail.com&quot;,
        &quot;fullName&quot;: &quot;olduseremail&quot;,
        &quot;id&quot;: &quot;3407735538&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;
    },
    ...
]
</code></pre><h4 id="get-user-account-by-email">Get user account by email</h4>
<p><code>GET /api/portals/v1/accounts/{user-email}</code></p>
<p>Get user account by email.</p>
<h5 id="request">Request</h5>
<p>Request body is empty</p>
<h5 id="response">Response</h5>
<p>On success, responds with HTTP status 200 if user exists in some domain and the body containing user object.
user objects contain the following keys:</p>
<ul>
<li><code>&quot;email&quot;</code> - User email</li>
<li><code>&quot;fullName&quot;</code> - User full name</li>
<li><code>&quot;id&quot;</code> - User ID</li>
<li><code>&quot;meta&quot;</code> - User meta</li>
<li><code>&quot;phoneNumber&quot;</code> - User phonenumber</li>
</ul>
<p>On failure, responds with HTTP status 404 if user doesn&#39;t exist in any domain.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/accounts/useremail@gmail.com&#39; \
     -X GET \
     -u &#39;adminuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:40:58 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 99
Content-Type: application/json; charset=UTF-8

{
    &quot;email&quot;: &quot;updatedemail@gmail.com&quot;,
    &quot;fullName&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;3167859736&quot;,
    &quot;meta&quot;: null,
    &quot;phoneNumber&quot;: &quot;&quot;
}
</code></pre><h3 id="client-models">Client Models</h3>
<p>Client models represent a class of devices. All devices of the same client model have the same behaviour attributes and pricing. Only the domain administrator can use the client model APIs.
<strong>Note: Image data can currently not be modified using this API</strong></p>
<h4 id="get-client-model">Get client model</h4>
<p><code>GET /api/portals/v1/client-models/{vendor}/{name}</code></p>
<p>Get information about a client model.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and body is a <a href="#client-model-object">client model object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/client-models/myvendor/myname&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:21:14 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 1071
Content-Type: application/json; charset=UTF-8

{
    &quot;id&quot;: &quot;myvendor/myname&quot;,
    &quot;domainID&quot;: &quot;3481377489&quot;,
    &quot;vendor&quot;: &quot;myvendor&quot;,
    &quot;friendly&quot;: &quot;myname&quot;,
    &quot;name&quot;: &quot;myname&quot;,
    &quot;cloneRID&quot;: &quot;96436ca6874ce01d0dd1f41001d71e75c3aebd6f&quot;,
    &quot;viewID&quot;: &quot;0000000000&quot;,
    &quot;exampleSN&quot;: &quot;&quot;,
    &quot;sharedSN&quot;: &quot;&quot;,
    &quot;convertSN&quot;: &quot;no&quot;,
    &quot;alternateSN&quot;: &quot;&quot;,
    &quot;noteSetup&quot;: &quot;&quot;,
    &quot;noteName&quot;: &quot;&quot;,
    &quot;noteLocation&quot;: &quot;(optional - can be a string or GPS decimal degrees)&quot;,
    &quot;pictureDevice&quot;: &quot;&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;pictureSN&quot;: &quot;&quot;,
    &quot;confirmPage&quot;: &quot;Your [client model name] [device] was successfully enabled with the CIK&lt;br/&gt;[device cik]&lt;br/&gt;&lt;br/&gt;Your [device] will need to connect to the Exosite platform within 24 hours or your provision request will expire and you will need to re-enable your [device] from the Re-Enable block in your [device] pop-up. If you have any problems connecting, please contact your [device] provider at:&lt;br/&gt;&lt;br/&gt;&lt;b&gt;Company name:&lt;/b&gt; [company name]&lt;br/&gt;&lt;b&gt;Company email contact information:&lt;/b&gt; [company email]&lt;br/&gt;&quot;,
    &quot;companyName&quot;: &quot;&quot;,
    &quot;contactEmail&quot;: &quot;&quot;,
    &quot;:published&quot;: false
}
</code></pre><h4 id="update-client-model">Update client model</h4>
<p><code>PUT /api/portals/v1/client-models/{vendor}/{name}</code></p>
<p>Update information about a client model.</p>
<h5 id="request">Request</h5>
<p>The body is a JSON encoded <a href="#client-model-object">client model object</a>.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/client-models/myvendor/mymodel&#39; \
     -X PUT \
     -d &#39;{&quot;description&quot;: &quot;sample model&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 08:14:01 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h4 id="list-client-models">List client models</h4>
<p><code>GET /api/portals/v1/client-models/</code></p>
<p>Returns an array of client models in this domain.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and an array of <a href="#client-model-object">client models object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/client-models&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:10:30 GMT
Status: 200 OK
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8

[
       {
        &quot;id&quot;: &quot;myvendor/myname&quot;,
        &quot;domainID&quot;: &quot;3481377489&quot;,
        &quot;vendor&quot;: &quot;myvendor&quot;,
        &quot;friendly&quot;: &quot;myname&quot;,
        &quot;name&quot;: &quot;myname&quot;,
        &quot;cloneRID&quot;: &quot;96436ca6874ce01d0dd1f41001d71e75c3aebd6f&quot;,
        &quot;viewID&quot;: &quot;0000000000&quot;,
        &quot;exampleSN&quot;: &quot;&quot;,
        &quot;sharedSN&quot;: &quot;&quot;,
        &quot;convertSN&quot;: &quot;no&quot;,
        &quot;alternateSN&quot;: &quot;&quot;,
        &quot;noteSetup&quot;: &quot;&quot;,
        &quot;noteName&quot;: &quot;&quot;,
        &quot;noteLocation&quot;: &quot;(optional - can be a string or GPS decimal degrees)&quot;,
        &quot;pictureDevice&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;pictureSN&quot;: &quot;&quot;,
        &quot;confirmPage&quot;: &quot;Your [client model name] [device] was successfully enabled with the CIK&lt;br/&gt;[device cik]&lt;br/&gt;&lt;br/&gt;Your [device] will need to connect to the Exosite platform within 24 hours or your provision request will expire and you will need to re-enable your [device] from the Re-Enable block in your [device] pop-up. If you have any problems connecting, please contact your [device] provider at:&lt;br/&gt;&lt;br/&gt;&lt;b&gt;Company name:&lt;/b&gt; [company name]&lt;br/&gt;&lt;b&gt;Company email contact information:&lt;/b&gt; [company email]&lt;br/&gt;&quot;,
        &quot;companyName&quot;: &quot;&quot;,
        &quot;contactEmail&quot;: &quot;&quot;,
        &quot;:published&quot;: false
    },
    {
        &quot;id&quot;: &quot;myvendor/testing%2B1412320409837&quot;,
        &quot;domainID&quot;: &quot;3481377489&quot;,
        &quot;vendor&quot;: &quot;myvendor&quot;,
        &quot;friendly&quot;: &quot;testing+1412320546880&quot;,
        &quot;name&quot;: &quot;testing+1412320409837&quot;,
        &quot;cloneRID&quot;: &quot;fc03f70ea93a2b8e65ac96e9ad71fbb79bbbd7ad&quot;,
        &quot;viewID&quot;: &quot;0000000000&quot;,
        &quot;exampleSN&quot;: &quot;&quot;,
        &quot;sharedSN&quot;: &quot;&quot;,
        &quot;convertSN&quot;: &quot;no&quot;,
        &quot;alternateSN&quot;: &quot;&quot;,
        &quot;noteSetup&quot;: &quot;&quot;,
        &quot;noteName&quot;: &quot;&quot;,
        &quot;noteLocation&quot;: &quot;(optional - can be a string or GPS decimal degrees)&quot;,
        &quot;pictureDevice&quot;: &quot;&quot;,
        &quot;description&quot;: &quot;testing+1412320409837&quot;,
        &quot;pictureSN&quot;: &quot;&quot;,
        &quot;confirmPage&quot;: &quot;Your [client model name] [device] was successfully enabled with the CIK&lt;br/&gt;[device cik]&lt;br/&gt;&lt;br/&gt;Your [device] will need to connect to the Exosite platform within 24 hours or your provision request will expire and you will need to re-enable your [device] from the Re-Enable block in your [device] pop-up. If you have any problems connecting, please contact your [device] provider at:&lt;br/&gt;&lt;br/&gt;&lt;b&gt;Company name:&lt;/b&gt; [company name]&lt;br/&gt;&lt;b&gt;Company email contact information:&lt;/b&gt; [company email]&lt;br/&gt;&quot;,
        &quot;companyName&quot;: &quot;testing+1412320546880&quot;,
        &quot;contactEmail&quot;: &quot;testing+1412320546880@email.com&quot;,
        &quot;:published&quot;: true
    },
    ...
]
</code></pre><h4 id="delete-client-model">Delete client model</h4>
<p><code>DELETE /api/portals/v1/client-models/{vendor}/{name}</code></p>
<p>When deleting the current default client model the exosite system client model will be applied to the domain.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/client-models/myvendor/mymodel&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:26:52 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="collections-bulk-request-">Collections (bulk request)</h3>
<h4 id="querystring">Querystring</h4>
<ul>
<li>limit
  Internal limit is 200 some are smaller. 0 &lt;= x &lt;= (INTERNAL LIMIT).
  <code>/users/_this/users/[{user-id},{user-id},...]?limit=10</code></li>
<li>offset
  numbers of items to skip.
  <code>/users/_this/users/[{user-id},{user-id},...]?offset=10</code></li>
</ul>
<h4 id="get-multiple-data-sources">Get multiple data sources</h4>
<p><code>GET /users/_this/data-sources/[{data-source-rid},{data-source-rid},...]</code></p>
<p>Get information about portals data sources.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success,
If all items are fetched, response has HTTP status 200 and body is a <a href="#data-source-object">data source object</a>.
If request ID is over the response limit, response has HTTP status 206 and body is a <a href="#data-source-object">data source object</a>, link will appear in header  <code>Link=&lt;{url}&gt;; rel=&quot;previous&quot;, &lt;{url}&gt;; rel=&quot;next&quot;</code></p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<h6 id="if-all-items-are-fetched">If all items are fetched</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/data-sources/\[a3fc4e5a6fbc20fcb14091ba0735580e56060e9a,a90f263111b05088a3c78aef511f14275bba6cc5\]&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 02:49:17 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 648
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;data&quot;: [
            [
                1416190810,
                100
            ]
        ],
        &quot;info&quot;: {
            &quot;basic&quot;: {
                &quot;modified&quot;: 1416190782,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;dataport&quot;
            },
            &quot;description&quot;: {
                &quot;format&quot;: &quot;integer&quot;,
                &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;\&quot;,\&quot;unit\&quot;:\&quot;\&quot;}}&quot;,
                &quot;name&quot;: &quot;test&quot;,
                &quot;preprocess&quot;: [],
                &quot;public&quot;: false,
                &quot;retention&quot;: {
                    &quot;count&quot;: &quot;infinity&quot;,
                    &quot;duration&quot;: &quot;infinity&quot;
                },
                &quot;subscribe&quot;: null
            },
            &quot;shares&quot;: [],
            &quot;storage&quot;: {
                &quot;count&quot;: 1,
                &quot;first&quot;: 1416190810,
                &quot;last&quot;: 1416190810,
                &quot;size&quot;: 12
            },
            &quot;subscribers&quot;: [],
            &quot;tags&quot;: []
        },
        &quot;rid&quot;: &quot;a3fc4e5a6fbc20fcb14091ba0735580e56060e9a&quot;,
        &quot;unit&quot;: &quot;&quot;
    },
    {
        &quot;data&quot;: [
            [
                1416190822,
                300
            ]
        ],
        &quot;info&quot;: {
            &quot;basic&quot;: {
                &quot;modified&quot;: 1416190793,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;dataport&quot;
            },
            &quot;description&quot;: {
                &quot;format&quot;: &quot;integer&quot;,
                &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;\&quot;,\&quot;unit\&quot;:\&quot;\&quot;}}&quot;,
                &quot;name&quot;: &quot;test1&quot;,
                &quot;preprocess&quot;: [],
                &quot;public&quot;: false,
                &quot;retention&quot;: {
                    &quot;count&quot;: &quot;infinity&quot;,
                    &quot;duration&quot;: &quot;infinity&quot;
                },
                &quot;subscribe&quot;: null
            },
            &quot;shares&quot;: [],
            &quot;storage&quot;: {
                &quot;count&quot;: 1,
                &quot;first&quot;: 1416190822,
                &quot;last&quot;: 1416190822,
                &quot;size&quot;: 12
            },
            &quot;subscribers&quot;: [],
            &quot;tags&quot;: []
        },
        &quot;rid&quot;: &quot;a90f263111b05088a3c78aef511f14275bba6cc5&quot;,
        &quot;unit&quot;: &quot;&quot;
    }
]
</code></pre><h6 id="if-request-id-is-over-the-response-limit">If request ID is over the response limit</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/data-sources/\[a3fc4e5a6fbc20fcb14091ba0735580e56060e9a,a90f263111b05088a3c78aef511f14275bba6cc5\]?limit=1&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>Date: Mon, 17 Nov 2014 03:18:57 GMT
Status: 206 Partial Content
Link: &lt;https://mydomain.exosite.com/api/portals/v1/users/_this/data-sources/[a3fc4e5a6fbc20fcb14091ba0735580e56060e9a,a90f263111b05088a3c78aef511f14275bba6cc5]?offset=1&amp;limit=1&gt;; rel=&quot;next&quot;
Vary: Accept-Encoding
Content-Length: 486
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;data&quot;: [
            [
                1416190810,
                100
            ]
        ],
        &quot;info&quot;: {
            &quot;basic&quot;: {
                &quot;modified&quot;: 1416190782,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;dataport&quot;
            },
            &quot;description&quot;: {
                &quot;format&quot;: &quot;integer&quot;,
                &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;\&quot;,\&quot;unit\&quot;:\&quot;\&quot;}}&quot;,
                &quot;name&quot;: &quot;test&quot;,
                &quot;preprocess&quot;: [],
                &quot;public&quot;: false,
                &quot;retention&quot;: {
                    &quot;count&quot;: &quot;infinity&quot;,
                    &quot;duration&quot;: &quot;infinity&quot;
                },
                &quot;subscribe&quot;: null
            },
            &quot;shares&quot;: [],
            &quot;storage&quot;: {
                &quot;count&quot;: 1,
                &quot;first&quot;: 1416190810,
                &quot;last&quot;: 1416190810,
                &quot;size&quot;: 12
            },
            &quot;subscribers&quot;: [],
            &quot;tags&quot;: []
        },
        &quot;rid&quot;: &quot;a3fc4e5a6fbc20fcb14091ba0735580e56060e9a&quot;,
        &quot;unit&quot;: &quot;&quot;
    }
]
</code></pre><h4 id="get-multiple-devices">Get multiple devices</h4>
<p><code>GET /users/_this/devices/[{device-rid},device-rid},...]</code></p>
<p>Get information for devices.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success,
If all items are fetched, response has HTTP status 200 and body is a <a href="#device-object">device object</a>.
If request ID is over the response limit, response has HTTP status 206 and body is a <a href="#device-object">device object</a>, link will appear in header  <code>Link=&lt;{url}&gt;; rel=&quot;previous&quot;, &lt;{url}&gt;; rel=&quot;next&quot;</code></p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<h6 id="if-all-items-are-fetched">If all items are fetched</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/devices/\[47ab21c6e169ca4f749128fb00a4bf077f4a463f,96436ca6874ce01d0dd1f41001d71e75c3aebd6f\]&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 03:29:42 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 2742
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;dataSources&quot;: [
            &quot;561d1c757bdafd2c7fb3196e5a35558317045876&quot;,
            &quot;8840cd68dfcef3c20c8bc4821f0c670ba2d2eb44&quot;
        ],
        &quot;info&quot;: {
            &quot;aliases&quot;: {
                &quot;0798132e5e5def5decc7129430112086f1448b39&quot;: [
                    &quot;temp&quot;
                ],
                &quot;8840cd68dfcef3c20c8bc4821f0c670ba2d2eb44&quot;: [
                    &quot;shared data&quot;
                ],
                &quot;561d1c757bdafd2c7fb3196e5a35558317045876&quot;: [
                    &quot;public&quot;
                ]
            },
            &quot;basic&quot;: {
                &quot;modified&quot;: 1407985593,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;client&quot;,
                &quot;status&quot;: &quot;activated&quot;
            },
            &quot;description&quot;: {
                &quot;limits&quot;: {
                    &quot;client&quot;: 0,
                    &quot;dataport&quot;: &quot;inherit&quot;,
                    &quot;datarule&quot;: &quot;inherit&quot;,
                    &quot;disk&quot;: &quot;inherit&quot;,
                    &quot;dispatch&quot;: &quot;inherit&quot;,
                    &quot;email&quot;: &quot;inherit&quot;,
                    &quot;email_bucket&quot;: &quot;inherit&quot;,
                    &quot;http&quot;: &quot;inherit&quot;,
                    &quot;http_bucket&quot;: &quot;inherit&quot;,
                    &quot;share&quot;: &quot;inherit&quot;,
                    &quot;sms&quot;: &quot;inherit&quot;,
                    &quot;sms_bucket&quot;: &quot;inherit&quot;,
                    &quot;xmpp&quot;: &quot;inherit&quot;,
                    &quot;xmpp_bucket&quot;: &quot;inherit&quot;
                },
                &quot;locked&quot;: false,
                &quot;meta&quot;: &quot;{\&quot;timezone\&quot;:\&quot;Asia\\/Taipei\&quot;,\&quot;location\&quot;:\&quot;Taichung\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;generic\&quot;},\&quot;activetime\&quot;:\&quot;30\&quot;}&quot;,
                &quot;name&quot;: &quot;device Apple&quot;,
                &quot;public&quot;: false
            },
            &quot;shares&quot;: [
                {
                    &quot;code&quot;: &quot;8a7bfcfb3db340d23cdafc599107e16088075b38&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;1\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;3fcfb90db1210878510c4cd67e06324eb862efb4&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;Fruit+20140807\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;4b467a56d7b2f5c546d1bcfeab91690bf1e98f24&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;test\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;98010735f04f1f50ee57251f7342370cbe40d841&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;testing+20140814-1\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;85c060851a07de239da1159d6294751885afdc9e&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;restfulapi\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;cd64dfd210e9eb18a403bd04b92901e96c72cc37&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;2\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;e146db1b2ea1397ce67c02ddf7e876941e137fc5&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;testing+20140822-1\&quot;]&quot;,
                    &quot;activator&quot;: null
                }
            ],
            &quot;subscribers&quot;: [],
            &quot;tagged&quot;: [
                &quot;public&quot;
            ],
            &quot;tags&quot;: []
        },
        &quot;members&quot;: [],
        &quot;model&quot;: null,
        &quot;rid&quot;: &quot;47ab21c6e169ca4f749128fb00a4bf077f4a463f&quot;,
        &quot;sn&quot;: null,
        &quot;type&quot;: &quot;generic&quot;,
        &quot;vendor&quot;: null
    },
    {
        &quot;dataSources&quot;: [],
        &quot;info&quot;: {
            &quot;aliases&quot;: [],
            &quot;basic&quot;: {
                &quot;modified&quot;: 1415769574,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;client&quot;,
                &quot;status&quot;: &quot;expired&quot;
            },
            &quot;description&quot;: {
                &quot;limits&quot;: {
                    &quot;client&quot;: 0,
                    &quot;dataport&quot;: &quot;inherit&quot;,
                    &quot;datarule&quot;: &quot;inherit&quot;,
                    &quot;disk&quot;: &quot;inherit&quot;,
                    &quot;dispatch&quot;: &quot;inherit&quot;,
                    &quot;email&quot;: &quot;inherit&quot;,
                    &quot;email_bucket&quot;: &quot;inherit&quot;,
                    &quot;http&quot;: &quot;inherit&quot;,
                    &quot;http_bucket&quot;: &quot;inherit&quot;,
                    &quot;share&quot;: &quot;inherit&quot;,
                    &quot;sms&quot;: &quot;inherit&quot;,
                    &quot;sms_bucket&quot;: &quot;inherit&quot;,
                    &quot;xmpp&quot;: &quot;inherit&quot;,
                    &quot;xmpp_bucket&quot;: &quot;inherit&quot;
                },
                &quot;locked&quot;: false,
                &quot;meta&quot;: &quot;{\&quot;DeviceType\&quot;:\&quot;generic\&quot;,\&quot;DeviceTypeID\&quot;:\&quot;0000000002\&quot;,\&quot;Timezone\&quot;:\&quot;Asia\\/Taipei\&quot;,\&quot;Location\&quot;:\&quot;Taiwan\&quot;,\&quot;activetime\&quot;:\&quot;\&quot;,\&quot;DeviceTypeName\&quot;:\&quot;generic\&quot;,\&quot;timezone\&quot;:\&quot;Asia\\/Taipei\&quot;,\&quot;location\&quot;:\&quot;Taiwan\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;vendor\&quot;,\&quot;model\&quot;:\&quot;testAPI\&quot;,\&quot;vendor\&quot;:\&quot;testing\&quot;,\&quot;sn\&quot;:\&quot;888\&quot;}}&quot;,
                &quot;name&quot;: &quot;888&quot;,
                &quot;public&quot;: false
            },
            &quot;shares&quot;: [],
            &quot;subscribers&quot;: [],
            &quot;tagged&quot;: [],
            &quot;tags&quot;: []
        },
        &quot;members&quot;: [],
        &quot;model&quot;: &quot;testAPI&quot;,
        &quot;rid&quot;: &quot;96436ca6874ce01d0dd1f41001d71e75c3aebd6f&quot;,
        &quot;sn&quot;: &quot;888&quot;,
        &quot;type&quot;: &quot;vendor&quot;,
        &quot;vendor&quot;: &quot;testing&quot;
    }
]
</code></pre><h4 id="example-options">Example Options</h4>
<pre><code>curl https://&lt;domain&gt;.exosite.com/api/portals/v1/users/&amp;lt;user id&gt;/portals?options=devices -ik -H &#39;Content-Type: application/json&#39; --user &quot;&lt;domain admin email&gt;:&lt;domain admin passwd&gt;&quot;
[
  {
    &quot;PortalName&quot;: &quot;Steve....&quot;,
    &quot;PortalID&quot;: &quot;3438636XXX&quot;,
    &quot;PortalRID&quot;: &quot;................................&quot;,
    &quot;UserEmail&quot;: &quot;stevelo@XXXXXX&quot;,
    &quot;Description&quot;: &quot;Steve XXXXXXX&quot;,
    &quot;Devices&quot;:[&quot;acf4838d1aa26e00ae834c1ab67884e21137c1b7&quot;,&quot;c36ec9302b2fa9b43772ba7a72da3e74efb3dc92&quot;] //enclosed in square brackets are Devices RIDs
  },
  {
    &quot;PortalName&quot;: &quot;steve......&quot;,
    &quot;PortalID&quot;: &quot;111646XXX&quot;,
    &quot;PortalRID&quot;: &quot;................................&quot;,
    &quot;UserEmail&quot;: &quot;stevelo@XXXXXXX&quot;,
    &quot;Description&quot;: &quot;Default XXXXX&quot;,
    &quot;Devices&quot;:[]
  }
]
</code></pre><h6 id="if-request-id-is-over-the-response-limit">If request ID is over the response limit</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/devices/\[47ab21c6e169ca4f749128fb00a4bf077f4a463f,96436ca6874ce01d0dd1f41001d71e75c3aebd6f\]?limit=1&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 206 Partial Content
Date: Mon, 17 Nov 2014 03:24:46 GMT
Status: 206 Partial Content
Link: &lt;https://mydomain.exosite.com/api/portals/v1/users/_this/devices/[47ab21c6e169ca4f749128fb00a4bf077f4a463f,96436ca6874ce01d0dd1f41001d71e75c3aebd6f]?offset=1&amp;limit=1&gt;; rel=&quot;next&quot;
Vary: Accept-Encoding
Content-Length: 1772
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;dataSources&quot;: [
            &quot;561d1c757bdafd2c7fb3196e5a35558317045876&quot;,
            &quot;8840cd68dfcef3c20c8bc4821f0c670ba2d2eb44&quot;
        ],
        &quot;info&quot;: {
            &quot;aliases&quot;: {
                &quot;0798132e5e5def5decc7129430112086f1448b39&quot;: [
                    &quot;temp&quot;
                ],
                &quot;8840cd68dfcef3c20c8bc4821f0c670ba2d2eb44&quot;: [
                    &quot;shared data&quot;
                ],
                &quot;561d1c757bdafd2c7fb3196e5a35558317045876&quot;: [
                    &quot;public&quot;
                ]
            },
            &quot;basic&quot;: {
                &quot;modified&quot;: 1407985593,
                &quot;subscribers&quot;: 0,
                &quot;type&quot;: &quot;client&quot;,
                &quot;status&quot;: &quot;activated&quot;
            },
            &quot;description&quot;: {
                &quot;limits&quot;: {
                    &quot;client&quot;: 0,
                    &quot;dataport&quot;: &quot;inherit&quot;,
                    &quot;datarule&quot;: &quot;inherit&quot;,
                    &quot;disk&quot;: &quot;inherit&quot;,
                    &quot;dispatch&quot;: &quot;inherit&quot;,
                    &quot;email&quot;: &quot;inherit&quot;,
                    &quot;email_bucket&quot;: &quot;inherit&quot;,
                    &quot;http&quot;: &quot;inherit&quot;,
                    &quot;http_bucket&quot;: &quot;inherit&quot;,
                    &quot;share&quot;: &quot;inherit&quot;,
                    &quot;sms&quot;: &quot;inherit&quot;,
                    &quot;sms_bucket&quot;: &quot;inherit&quot;,
                    &quot;xmpp&quot;: &quot;inherit&quot;,
                    &quot;xmpp_bucket&quot;: &quot;inherit&quot;
                },
                &quot;locked&quot;: false,
                &quot;meta&quot;: &quot;{\&quot;timezone\&quot;:\&quot;Asia\\/Taipei\&quot;,\&quot;location\&quot;:\&quot;Taichung\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;generic\&quot;},\&quot;activetime\&quot;:\&quot;30\&quot;}&quot;,
                &quot;name&quot;: &quot;device Apple&quot;,
                &quot;public&quot;: false
            },
            &quot;shares&quot;: [
                {
                    &quot;code&quot;: &quot;8a7bfcfb3db340d23cdafc599107e16088075b38&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;1\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;3fcfb90db1210878510c4cd67e06324eb862efb4&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;Fruit+20140807\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;4b467a56d7b2f5c546d1bcfeab91690bf1e98f24&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;test\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;98010735f04f1f50ee57251f7342370cbe40d841&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;testing+20140814-1\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;85c060851a07de239da1159d6294751885afdc9e&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;restfulapi\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;cd64dfd210e9eb18a403bd04b92901e96c72cc37&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;2\&quot;]&quot;,
                    &quot;activator&quot;: null
                },
                {
                    &quot;code&quot;: &quot;e146db1b2ea1397ce67c02ddf7e876941e137fc5&quot;,
                    &quot;meta&quot;: &quot;[\&quot;testing\&quot;,\&quot;testing+20140822-1\&quot;]&quot;,
                    &quot;activator&quot;: null
                }
            ],
            &quot;subscribers&quot;: [],
            &quot;tagged&quot;: [
                &quot;public&quot;
            ],
            &quot;tags&quot;: []
        },
        &quot;members&quot;: [],
        &quot;model&quot;: null,
        &quot;rid&quot;: &quot;47ab21c6e169ca4f749128fb00a4bf077f4a463f&quot;,
        &quot;sn&quot;: null,
        &quot;type&quot;: &quot;generic&quot;,
        &quot;vendor&quot;: null
    }
]
</code></pre><h4 id="get-multiple-groups">Get multiple groups</h4>
<p><code>GET /users/_this/groups/[{group-id},{group-id},...]</code></p>
<p>Get information about groups.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success,
If all items are fetched, response has HTTP status 200 and body is a <a href="#group-object">group object</a>.
If request ID is over the response limit, response has HTTP status 206 and body is a <a href="#group-object">group object</a>, link will appear in header  <code>Link=&lt;{url}&gt;; rel=&quot;previous&quot;, &lt;{url}&gt;; rel=&quot;next&quot;</code></p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<h6 id="if-all-items-are-fetched">If all items are fetched</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/groups/\[2581071857,2937453355\]&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 03:35:46 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 343
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;id&quot;: &quot;2581071857&quot;,
        &quot;userId&quot;: &quot;1026285982&quot;,
        &quot;members&quot;: [
            {
                &quot;access&quot;: &quot;___admin&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;User&quot;,
                    &quot;id&quot;: &quot;1026285982&quot;
                }
            }
        ],
        &quot;meta&quot;: null,
        &quot;name&quot;: &quot;test group 10883&quot;,
        &quot;permissions&quot;: []
    },
    {
        &quot;id&quot;: &quot;2937453355&quot;,
        &quot;userId&quot;: &quot;1026285982&quot;,
        &quot;members&quot;: [
            {
                &quot;access&quot;: &quot;___admin&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;User&quot;,
                    &quot;id&quot;: &quot;1026285982&quot;
                }
            }
        ],
        &quot;meta&quot;: null,
        &quot;name&quot;: &quot;test group 13553&quot;,
        &quot;permissions&quot;: []
    }
]
</code></pre><h6 id="if-request-id-is-over-the-response-limit">If request ID is over the response limit</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/groups/\[2581071857,2937453355\]?limit=1&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 206 Partial Content
Date: Mon, 17 Nov 2014 03:39:28 GMT
Status: 206 Partial Content
Link: &lt;https://mydomain.exosite.com/api/portals/v1/users/_this/groups/[2937453355,2581071857]?offset=1&amp;limit=1&gt;; rel=&quot;next&quot;
Vary: Accept-Encoding
Content-Length: 172
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;id&quot;: &quot;2937453355&quot;,
        &quot;userId&quot;: &quot;1026285982&quot;,
        &quot;members&quot;: [
            {
                &quot;access&quot;: &quot;___admin&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;User&quot;,
                    &quot;id&quot;: &quot;1026285982&quot;
                }
            }
        ],
        &quot;meta&quot;: null,
        &quot;name&quot;: &quot;test group 13553&quot;,
        &quot;permissions&quot;: []
    }
]
</code></pre><h4 id="get-multiple-users">Get multiple users</h4>
<p><code>GET /users/_this/users/[{user-id},{user-id},...]</code></p>
<p>Get information about users.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success,
If all items are fetched, response has HTTP status 200 and body is a <a href="#user-object">user object</a>.
If request ID is over the response limit, response has HTTP status 206 and body is a <a href="#user-object">user object</a>, link will appear in header  <code>Link=&lt;{url}&gt;; rel=&quot;previous&quot;, &lt;{url}&gt;; rel=&quot;next&quot;</code></p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<h6 id="if-all-items-are-fetched">If all items are fetched</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/users/\[2014970789,2308265000\]&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 03:43:14 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 648
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;email&quot;: &quot;testing+2014+0805+0309+0953+7449@exosite.com&quot;,
        &quot;fullName&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;2014970789&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;,
        &quot;activated&quot;: true,
        &quot;groups&quot;: [],
        &quot;permissions&quot;: [
            {
                &quot;access&quot;: &quot;d_update&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Device&quot;,
                    &quot;id&quot;: &quot;27a9414bc2999a8d975a9c65a1195acde7ec3f4b&quot;
                }
            }
        ]
    },
    {
        &quot;email&quot;: &quot;testing+2014+0805+0310+0635+2749@exosite.com&quot;,
        &quot;fullName&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;2308265000&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;,
        &quot;activated&quot;: true,
        &quot;groups&quot;: [
            &quot;2053728508&quot;,
            &quot;2705108658&quot;,
            &quot;3415641988&quot;
        ],
        &quot;permissions&quot;: [
            {
                &quot;access&quot;: &quot;g_modera&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Group&quot;,
                    &quot;id&quot;: &quot;2053728508&quot;
                }
            },
            {
                &quot;access&quot;: &quot;g_update&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Group&quot;,
                    &quot;id&quot;: &quot;2705108658&quot;
                }
            },
            {
                &quot;access&quot;: &quot;g_modera&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Group&quot;,
                    &quot;id&quot;: &quot;3415641988&quot;
                }
            }
        ]
    }
]
</code></pre><h6 id="if-request-id-is-over-the-response-limit">If request ID is over the response limit</h6>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/users/\[2014970789,2308265000\]?limit=1&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 206 Partial Content
Date: Mon, 17 Nov 2014 03:44:42 GMT
Status: 206 Partial Content
Link: &lt;https://mydomain.exosite.com/api/portals/v1/users/_this/users/[2014970789,2308265000]?offset=1&amp;limit=1&gt;; rel=&quot;next&quot;
Vary: Accept-Encoding
Content-Length: 258
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;email&quot;: &quot;testing+2014+0805+0309+0953+7449@exosite.com&quot;,
        &quot;fullName&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;2014970789&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;,
        &quot;activated&quot;: true,
        &quot;groups&quot;: [],
        &quot;permissions&quot;: [
            {
                &quot;access&quot;: &quot;d_update&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Device&quot;,
                    &quot;id&quot;: &quot;27a9414bc2999a8d975a9c65a1195acde7ec3f4b&quot;
                }
            }
        ]
    }
]
</code></pre><h3 id="data-sources">Data Sources</h3>
<h4 id="create-portal-data-source">Create portal data source</h4>
<p><code>POST /api/portals/v1/portals/{portal-id}/data-sources</code></p>
<p>Create a data source inside a portal</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#data-source-object">data source object</a>. Currently only the following keys are supported:</p>
<ul>
<li><code>&quot;format&quot;</code> - Data source format under info description.(optional)</li>
<li><code>&quot;name&quot;</code> - Data source name under info description.(optional)</li>
<li><code>&quot;unit&quot;</code> - Data source unit under info description.(optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the created data source object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/2853566858/data-sources&#39; \
     -X POST \
     -d &#39;{&quot;info&quot;:{&quot;description&quot;:{&quot;name&quot;: &quot;new data&quot;}}}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Tue, 18 Nov 2014 02:25:20 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 452
Content-Type: application/json; charset=UTF-8

{
    &quot;data&quot;: [],
    &quot;info&quot;: {
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416277438,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;dataport&quot;
        },
        &quot;description&quot;: {
            &quot;format&quot;: &quot;string&quot;,
            &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;\&quot;,\&quot;unit\&quot;:\&quot;\&quot;}}&quot;,
            &quot;name&quot;: &quot;new data&quot;,
            &quot;preprocess&quot;: [],
            &quot;public&quot;: false,
            &quot;retention&quot;: {
                &quot;count&quot;: &quot;infinity&quot;,
                &quot;duration&quot;: &quot;infinity&quot;
            },
            &quot;subscribe&quot;: null
        },
        &quot;shares&quot;: [],
        &quot;storage&quot;: {
            &quot;count&quot;: 0,
            &quot;first&quot;: 0,
            &quot;last&quot;: 0,
            &quot;size&quot;: 0
        },
        &quot;subscribers&quot;: [],
        &quot;tags&quot;: []
    },
    &quot;rid&quot;: &quot;4f39859d41a66468cf1e5e28d08ad2cab45b498f&quot;,
    &quot;unit&quot;: &quot;&quot;
}
</code></pre><h4 id="update-data-sources">Update data sources</h4>
<p><code>PUT /api/portals/v1/data-sources/{data-sources-rid}</code></p>
<p>Update a data sources.</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#data-source-object">data source object</a>. Currently only the following keys may be updated:</p>
<ul>
<li><code>&quot;info&quot;: {&quot;description&quot;: ...}</code> - description under info (optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status of 200 and body is the updated data source object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f&#39; \
     -X PUT \
     -d &#39;{&quot;info&quot;: {&quot;description&quot;: {&quot;name&quot;: &quot;data source update name&quot;}}}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 06 Jan 2015 03:25:15 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 565
Content-Type: application/json; charset=UTF-8

{
    &quot;data&quot;: [
        [1413958187, &quot;1413519694&quot;]
    ],
    &quot;info&quot;: {
        &quot;basic&quot;: {
            &quot;modified&quot;: 1420514686,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;dataport&quot;
        },
        &quot;description&quot;: {
            &quot;format&quot;: &quot;string&quot;,
            &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;test\&quot;,\&quot;unit\&quot;:\&quot;1413519694\&quot;},\&quot;alias\&quot;:\&quot;1413519694\&quot;}&quot;,
            &quot;name&quot;: &quot;data source update name&quot;,
            &quot;preprocess&quot;: [],
            &quot;public&quot;: true,
            &quot;retention&quot;: {
                &quot;count&quot;: &quot;infinity&quot;,
                &quot;duration&quot;: &quot;infinity&quot;
            },
            &quot;subscribe&quot;: null
        },
        &quot;shares&quot;: [],
        &quot;storage&quot;: {
            &quot;count&quot;: 1,
            &quot;first&quot;: 1413958187,
            &quot;last&quot;: 1413958187,
            &quot;size&quot;: 14
        },
        &quot;subscribers&quot;: [],
        &quot;tags&quot;: [&quot;test&quot;]
    },
    &quot;rid&quot;: &quot;4f39859d41a66468cf1e5e28d08ad2cab45b498f&quot;,
    &quot;unit&quot;: &quot;1413519694&quot;
}
</code></pre><h4 id="get-data-source">Get data source</h4>
<p><code>GET /api/portals/v1/data-sources/{data-source-rid}</code></p>
<p>Get information about a Portals data source.
If you want to get more than one data source information can reference <a href="#get-multiple-data-sources">Get multiple data sources</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing a <a href="#data-source-object">data source object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:32:43 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 452
Content-Type: application/json; charset=UTF-8

{
    &quot;data&quot;: [],
    &quot;info&quot;: {
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416277438,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;dataport&quot;
        },
        &quot;description&quot;: {
            &quot;format&quot;: &quot;string&quot;,
            &quot;meta&quot;: &quot;{\&quot;datasource\&quot;:{\&quot;description\&quot;:\&quot;\&quot;,\&quot;unit\&quot;:\&quot;\&quot;}}&quot;,
            &quot;name&quot;: &quot;new data&quot;,
            &quot;preprocess&quot;: [],
            &quot;public&quot;: false,
            &quot;retention&quot;: {
                &quot;count&quot;: &quot;infinity&quot;,
                &quot;duration&quot;: &quot;infinity&quot;
            },
            &quot;subscribe&quot;: null
        },
        &quot;shares&quot;: [],
        &quot;storage&quot;: {
            &quot;count&quot;: 0,
            &quot;first&quot;: 0,
            &quot;last&quot;: 0,
            &quot;size&quot;: 0
        },
        &quot;subscribers&quot;: [],
        &quot;tags&quot;: []
    },
    &quot;rid&quot;: &quot;4f39859d41a66468cf1e5e28d08ad2cab45b498f&quot;,
    &quot;unit&quot;: &quot;&quot;
}
</code></pre><h3 id="data-sources-data">Data Sources Data</h3>
<h4 id="get-data-source-data">Get data source data</h4>
<p><code>GET /api/portals/v1/data-sources/{data-source-rid}/data</code></p>
<p>This API can retrieve multiple data points. The options below can be included to modify the results of an API call:</p>
<ul>
<li><p><code>&quot;starttime&quot;</code> and <code>&quot;endtime&quot;</code> are Unix timestamps that specify the window of time to read.</p>
</li>
<li><p><code>&quot;sort&quot;</code> defines the order in which data points will be displayed.</p>
</li>
<li><p><code>&quot;limit&quot;</code> sets the a maximum on the number of data points to return.</p>
</li>
</ul>
<p>For more details about these options, see the <a href="https://github.com/exosite/docs/tree/master/rpc#read">read API</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and body is a list of data points. See the contents of <code>&quot;data&quot;</code>.</p>
<ul>
<li><p><code>&quot;data&quot;</code> is an array of data points. A data point has a unit timestamp and a value.</p>
<ul>
<li><p><code>{unix-timestamp}</code> is a <a href="http://en.wikipedia.org/wiki/Unix_time">Unix timestamp</a>, measured in number of seconds since the epoch.</p>
</li>
<li><p><code>{value}</code> may be a string, int, or float depending on the data source type.</p>
</li>
</ul>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<ul>
<li>Get data with no option</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/data&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:39:23 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 21
Content-Type: application/json; charset=UTF-8

[[1416278080,&quot;1000&quot;]]
</code></pre><ul>
<li>Get data with options</li>
</ul>
<p>api/portals/v1/data-sources/<code>ResourceID</code>/data?starttime=<code>Unix Timestamp for starttime</code>&amp;endtime=<code>Unix Timestamp for endtime</code>&amp;limit=<code>Number of data points</code>&amp;sort=<code>Sorting order of choice</code></p>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/data?starttime=1416278080&amp;endtime=1416278417&amp;limit=2&amp;sort=desc&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:43:35 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 41
Content-Type: application/json; charset=UTF-8

[[1416278417,&quot;5.00&quot;],[1416278080,&quot;1000&quot;]]
</code></pre><h4 id="append-insert-data-source-data">Append/insert data source data</h4>
<p><code>POST /api/portals/v1/data-sources/{data-source-rid}/data</code></p>
<p>Append data</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#data-source-object">value</a>.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/data&#39; \
     -X POST \
     -d &#39;&quot;1000&quot;&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Tue, 18 Nov 2014 02:36:02 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><p>Insert data</p>
<h5 id="request">Request</h5>
<p>Request body is <a href="https://github.com/exosite/docs/tree/master/rpc#recordbatch">data</a>.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/ad75f5b356907f0d2ec7a67d31254410526ef032/data&#39; \
     -X POST \
     -d &#39;[[1420041600,&quot;1000&quot;]]&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Thu, 08 Jan 2015 11:57:06 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h4 id="append-data-source-data-in-json-format">Append data source data in JSON format</h4>
<p><code>POST /api/portals/v1/data-sources/{data-source-rid}/json</code></p>
<p>Write json data</p>
<h5 id="querystring">Querystring</h5>
<ul>
<li>safe
  safe write, server will wait for 1s and scan the data again for safety</li>
</ul>
<h5 id="request">Request</h5>
<p>Request body is a valid JSON.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<p>When <code>safe</code> is passed in querystring, failure will response 409</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/json&#39; \
     -X POST \
     -d &#39;{&quot;how&quot;:&quot;are&quot;,&quot;you&quot;:&quot;?&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Tue, 18 Nov 2014 02:46:49 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h4 id="delete-data-source-data">Delete data source data</h4>
<p><code>DELETE /api/portals/v1/data-sources/{data-source-rid}/data</code></p>
<p>This API deletes data points from a data source. The following parameters specify which points to delete:</p>
<ul>
<li><p><code>&quot;starttime&quot;</code> and <code>&quot;endtime&quot;</code> are Unix timestamps that specify the window of time to delete.</p>
</li>
<li><p><code>&quot;sort&quot;</code> defines how to order the points before applying <code>&quot;limit&quot;</code>. This affects which points are deleted in the case where there are more than <code>&quot;limit&quot;</code> points in the specified time window.</p>
</li>
<li><p><code>&quot;limit&quot;</code> sets the maximum number of data points to delete. When set to <code>&quot;infinity&quot;</code> it will delete all the data points in the given window.</p>
</li>
</ul>
<p>For more details about these options, see <a href="#get-data-source-data">Get data source data</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status of 204 and body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<ul>
<li>Delete data without options</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/data&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 13 Jan 2015 04:40:50 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><ul>
<li>Delete data with options</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/data-sources/4f39859d41a66468cf1e5e28d08ad2cab45b498f/data?starttime=1416278080&amp;endtime=1416278417&amp;limit=2&amp;sort=desc&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 13 Jan 2015 04:40:50 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="device">Device</h3>
<h4 id="create-new-device-under-a-portal-of-authenticated-user">Create new device under a portal of authenticated user</h4>
<p><code>POST /api/portals/v1/device</code></p>
<p>Creates a new device based on a client model, returning the CIK and RID of the new device.</p>
<h5 id="request">Request</h5>
<p>The following keys are passed:</p>
<ul>
<li><code>&quot;portal_rid&quot;</code> - resource ID of portal where the device is to be created. User creating the device must have at least manager level access to this portal. This may be found in the output of the /portal/ API call, or in Portals here: https://<subdomain>.exosite.com/admin/portallist</li>
</ul>
<p><img src="images/find_portal_rid.png" alt="Find Portal RID"></p>
<ul>
<li><code>&quot;vendor&quot;</code> - vendor identifier. Administrators may find this identifier here: https://<subdomain>.exosite.com/admin/home</li>
</ul>
<p><img src="images/find_vendor.png" alt="Find Vendor ID"></p>
<ul>
<li><code>&quot;model&quot;</code> - client model of device to create. Administrators may find this here, at the bottom of the page: https://<subdomain>.exosite.com/admin/managemodels</li>
</ul>
<p><img src="images/find_model.png" alt="Find Model"></p>
<ul>
<li><code>&quot;serialnumber&quot;</code> - serial number of new device. The serial numbers available are configurable per device model. Administrators may configure individual serial numbers, or configure a range, here:  https://<subdomain>.exosite.com/admin/serialnumbers For example, this model has serial numbers consisting of six base 10 digits, e.g. 123456.</li>
</ul>
<p><img src="images/find_serialnumber.png" alt="Find device serial number"></p>
<ul>
<li><code>&quot;name&quot;</code> - device name. This is a human-readable name for the device.</li>
<li><code>&quot;timezone&quot;</code> - device timezone (optional)</li>
<li><code>&quot;location&quot;</code> - device location (optional)</li>
</ul>
<p>The domain name in the HTTP request indicates which domain to authenticate the user, and must be the same domain in which portal_rid is registered.</p>
<h5 id="response">Response</h5>
<p>On success, response has a HTTP status code 200. The response body contains a JSON object with the following keys:</p>
<ul>
<li><code>&quot;rid&quot;</code> - resource identifier for created device</li>
<li><code>&quot;cik&quot;</code> - key for created device</li>
</ul>
<p>After creating a device, it is necessary to activate it using the provisioning API. This is normally done by device firmware, but may also be done at the command line for testing.</p>
<p>[<a href="https://github.com/exosite/api/blob/master/provision/device.md#provisionactivate">https://github.com/exosite/api/blob/master/provision/device.md#provisionactivate</a>]</p>
<p>The RID and CIK may then be used with Exosites other APIs to interact with the device.</p>
<p>On failure, response has a HTTP status code of 400 or greater. The response body contains a JSON formatted response object. The response object may contain the following keys:</p>
<ul>
<li><p><code>&quot;errors&quot;</code> - array of error identifier strings</p>
<ul>
<li><p><code>&quot;limit&quot;</code> - portals device limit has been reached</p>
</li>
<li><p><code>&quot;invalid_sn&quot;</code> - serial number is invalid</p>
</li>
<li><p><code>&quot;unavailable_sn&quot;</code> - serial number is not available</p>
</li>
<li><p><code>&quot;forbidden_model&quot;</code> - model is not available in this domain (this also results if <code>&quot;vendor&quot;</code> is invalid or otherwise does not correspond to <code>&quot;model&quot;</code>)</p>
</li>
<li><p><code>&quot;require_purchase&quot;</code> - creating this type of device requires a purchase</p>
</li>
<li><p><code>&quot;insufficient_resources&quot;</code> - device could not be added due to insufficient resources in the portal</p>
</li>
<li><p><code>&quot;portal_not_found&quot;</code> - portal_rid could not be found</p>
</li>
<li><p><code>&quot;missing_*&quot;</code> - some required input was missing. E.g. <code>missing_portal_rid</code> indicates missing or empty (blank) portal_rid.</p>
</li>
</ul>
</li>
<li><p><code>&quot;notices&quot;</code> - array of user-readable error strings</p>
</li>
</ul>
<h5 id="example">Example</h5>
<p>Create the device:</p>
<pre><code>$ curl &#39;https://mydomain.exosite.com/api/portals/v1/device&#39; \
       -X POST \
       -d &#39;{&quot;model&quot;: &quot;myDeviceModel&quot;, &quot;vendor&quot;:&quot;joevendor&quot;, &quot;serialnumber&quot;:&quot;ABC-123&quot;, &quot;location&quot;:&quot;Samoa&quot;, &quot;timezone&quot;:&quot;(GMT-11:00) Midway Island, Samoa&quot;, &quot;portal_rid&quot;: &quot;5ef46b987385aaaaaaaaaa75183fb43edeb3557b&quot;, &quot;name&quot;:&quot;Device Name&quot;}&#39; \
       -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
       -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 01:45:37 GMT
Vary: Accept-Encoding
Content-Length: 99
Content-Type: application/json; charset=UTF-8

{
    &quot;rid&quot;: &quot;1767af3da6283354eb4818a709db4a0c15756eel&quot;,
    &quot;cik&quot;: &quot;a148dd4b498cf18c8f1b066af0dab8d671a79a5l&quot;
}
</code></pre><p>Then activate the device. Normally this would be done from the device firmware, but we do it here from the command line as an example.</p>
<pre><code>$ curl &#39;https://m2.exosite.com/provision/activate&#39; \
       -d &#39;vendor=joevendor&amp;model=myDeviceModel&amp;sn=ABC-123&#39;
</code></pre><pre><code>a148dd4b498cf18c8f1b066af0dab8d671a79a5l
</code></pre><h3 id="devices">Devices</h3>
<h4 id="create-device">Create device</h4>
<p><code>POST /api/portals/v1/portals/{portal-id}/devices</code></p>
<p>Create a device inside a portal</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#device-object">device object</a>. Currently only the following keys are supported:</p>
<ul>
<li><code>&quot;sn&quot;</code> - Serial number (required)</li>
<li><code>&quot;vendor&quot;</code> - Vendor name (required)</li>
<li><code>&quot;model&quot;</code> - Model name (required)</li>
<li><code>&quot;type&quot;</code> - Device type, must be &#39;vendor&#39; for this moment (required)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the created device object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/2853566858/devices&#39; \
     -X POST \
     -d &#39;{&quot;sn&quot;:&quot;123&quot;, &quot;vendor&quot;:&quot;mydomain&quot;, &quot;model&quot;:&quot;apimodel&quot;, &quot;type&quot;:&quot;vendor&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Tue, 18 Nov 2014 02:14:27 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 1113
Content-Type: application/json; charset=UTF-8

{
    &quot;dataSources&quot;: [],
    &quot;info&quot;: {
        &quot;aliases&quot;: [],
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416276786,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;notactivated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 0,
                &quot;dataport&quot;: &quot;inherit&quot;,
                &quot;datarule&quot;: &quot;inherit&quot;,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: &quot;inherit&quot;,
                &quot;email&quot;: &quot;inherit&quot;,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: &quot;inherit&quot;,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: &quot;inherit&quot;,
                &quot;sms&quot;: &quot;inherit&quot;,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: &quot;inherit&quot;,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;{\&quot;DeviceType\&quot;:\&quot;generic\&quot;,\&quot;DeviceTypeID\&quot;:\&quot;0000000002\&quot;,\&quot;Timezone\&quot;:\&quot;Asia\\/Taipei\&quot;,\&quot;Location\&quot;:\&quot;Taiwan\&quot;,\&quot;activetime\&quot;:\&quot;\&quot;,\&quot;DeviceTypeName\&quot;:\&quot;generic\&quot;,\&quot;timezone\&quot;:\&quot;\&quot;,\&quot;location\&quot;:\&quot;\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;vendor\&quot;,\&quot;model\&quot;:\&quot;apimodel\&quot;,\&quot;vendor\&quot;:\&quot;mydomain\&quot;,\&quot;sn\&quot;:\&quot;123\&quot;}}&quot;,
            &quot;name&quot;: &quot;New Device@2014-11-18T02:14:27+00:00 1416276867.8066&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;32e5952d4891f2a5e03433080a36fae46e79bd2b&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    },
    &quot;members&quot;: [
        {
            &quot;access&quot;: &quot;___admin&quot;,
            &quot;oid&quot;: {
                &quot;type&quot;: &quot;User&quot;,
                &quot;id&quot;: &quot;1026285982&quot;
            }
        }
    ],
    &quot;model&quot;: &quot;apimodel&quot;,
    &quot;rid&quot;: &quot;bd89188973b18826c99a287f4c43880b0643a757&quot;,
    &quot;sn&quot;: &quot;123&quot;,
    &quot;type&quot;: &quot;vendor&quot;,
    &quot;vendor&quot;: &quot;mydomain&quot;
}
</code></pre><h4 id="update-device">Update device</h4>
<p><code>PUT /api/portals/v1/devices/{device-rid}</code></p>
<p>Update a device</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#device-object">device object</a>. Currently only the following keys may be updated:</p>
<ul>
<li><code>&quot;info&quot;: {&quot;description&quot;: ...}</code> - description under info (optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status of 200 and body is the updated device object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/devices/5d4bacb783b10600e12b759bb1ae80b43666085b&#39; \
     -X PUT \
     -d &#39;{&quot;info&quot;: {&quot;description&quot;: {&quot;name&quot;: &quot;device update name&quot;}}}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:22:12 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 780
Content-Type: application/json; charset=UTF-8

{
    &quot;dataSources&quot;: [],
    &quot;info&quot;: {
        &quot;aliases&quot;: [],
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416277250,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;activated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 0,
                &quot;dataport&quot;: &quot;inherit&quot;,
                &quot;datarule&quot;: &quot;inherit&quot;,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: &quot;inherit&quot;,
                &quot;email&quot;: &quot;inherit&quot;,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: &quot;inherit&quot;,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: &quot;inherit&quot;,
                &quot;sms&quot;: &quot;inherit&quot;,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: &quot;inherit&quot;,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;{\&quot;timezone\&quot;:\&quot;\&quot;,\&quot;location\&quot;:\&quot;\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;generic\&quot;}}&quot;,
            &quot;name&quot;: &quot;device update name&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;36e4df531973d866f5ded2b99704672321cc5d7a&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    },
    &quot;members&quot;: [],
    &quot;model&quot;: null,
    &quot;rid&quot;: &quot;5d4bacb783b10600e12b759bb1ae80b43666085b&quot;,
    &quot;sn&quot;: null,
    &quot;type&quot;: &quot;generic&quot;,
    &quot;vendor&quot;: null
}
</code></pre><h4 id="get-device">Get device</h4>
<p><code>GET /api/portals/v1/devices/{device-rid}</code></p>
<p>Get information for a device.
If you want to get more than one device information can reference <a href="#get-multiple-devices">Get multiple devices</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a <a href="#device-object">device object</a>:</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/devices/5d4bacb783b10600e12b759bb1ae80b43666085b&#39;\
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:19:42 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 776
Content-Type: application/json; charset=UTF-8

{
    &quot;dataSources&quot;: [],
    &quot;info&quot;: {
        &quot;aliases&quot;: [],
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416213844,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;activated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 0,
                &quot;dataport&quot;: &quot;inherit&quot;,
                &quot;datarule&quot;: &quot;inherit&quot;,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: &quot;inherit&quot;,
                &quot;email&quot;: &quot;inherit&quot;,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: &quot;inherit&quot;,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: &quot;inherit&quot;,
                &quot;sms&quot;: &quot;inherit&quot;,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: &quot;inherit&quot;,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;{\&quot;timezone\&quot;:\&quot;\&quot;,\&quot;location\&quot;:\&quot;\&quot;,\&quot;device\&quot;:{\&quot;type\&quot;:\&quot;generic\&quot;}}&quot;,
            &quot;name&quot;: &quot;Exosite Device&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;36e4df531973d866f5ded2b99704672321cc5d7a&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    },
    &quot;members&quot;: [],
    &quot;model&quot;: null,
    &quot;rid&quot;: &quot;5d4bacb783b10600e12b759bb1ae80b43666085b&quot;,
    &quot;sn&quot;: null,
    &quot;type&quot;: &quot;generic&quot;,
    &quot;vendor&quot;: null
}
</code></pre><h4 id="delete-device">Delete device</h4>
<p><code>DELETE /api/portals/v1/devices/{device-rid}</code></p>
<p>Delete a device not a clone template of a model, not a pay per use device. This also resets the status of the associated serial number.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status of 204 and body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/devices/5d4bacb783b10600e12b759bb1ae80b43666085b&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 18 Nov 2014 07:45:09 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="domain">Domain</h3>
<h4 id="list-domains-of-authenticated-user">List domains of authenticated user</h4>
<p><code>GET /api/portals/v1/domain/</code></p>
<p>Returns an array of domains to which the users account is added.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and JSON array of domain objects. Domain objects contain the following keys:</p>
<ul>
<li><code>&quot;domain&quot;</code> - the domain address. This may be used in a subsequent call to /api/portals/v1/portal/</li>
<li><p><code>&quot;role&quot;</code> - the users role on this domain. Has one of the following values:</p>
<ul>
<li><p><code>&quot;user&quot;</code> - non-admin</p>
</li>
<li><p><code>&quot;admin&quot;</code> - domain admin</p>
</li>
</ul>
</li>
<li><p><code>&quot;name&quot;</code> - vendor name (for provisioning API)</p>
</li>
<li><code>&quot;token&quot;</code> - vendor token (for provisioning API)</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>$ curl &#39;https://mydomain.exosite.com/api/portals/v1/domain&#39; \
       -X GET \
       -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
       -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:54:40 GMT
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;role&quot;:&quot;user&quot;,
        &quot;name&quot;:&quot;exosite_portals&quot;,
        &quot;domain&quot;:&quot;portals.exosite.com&quot;
    },
    {
        &quot;role&quot;:&quot;admin&quot;,
        &quot;domain&quot;:&quot;joesdomain.exosite.com&quot;,
        &quot;name&quot;:&quot;joesdomain&quot;,
        &quot;token&quot;:&quot;01233fb43edeb3557b5ef46b987385abcdef0123&quot;
    }
]
</code></pre><h3 id="file-systems">File Systems</h3>
<h4 id="append-to-a-directory">Append to a directory</h4>
<p>Require <code>___admin</code> permission to the domain to access this end point.</p>
<pre><code>&lt;form action=&quot;/api/portals/v1/fs/{directory-path}&quot; enctype=&quot;multipart/form-data&quot; method=&quot;POST&quot;&gt;
    &lt;div&gt;
        &lt;input name=&quot;{field-name-1}&quot; type=&quot;file&quot;&gt;
        &lt;input name=&quot;{field-name-2}&quot; type=&quot;text&quot;&gt;
        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</code></pre><ul>
<li><code>&lt;directory-path&gt;</code> can be <code>[\/\-_0-9A-Za-z]*</code>.</li>
<li><code>&lt;field-name-*&gt;</code> is <code>^[\-0-9_A-Za-z]*$</code>.</li>
</ul>
<p>Submission of this form redirects the page to &quot;/api/portals/v1/fs/{directory-path}/{subdirectory}&quot;.</p>
<p>The response entity body is:</p>
<pre><code>{
    {field-name-1}: {field-content-type-1},
    {field-name-2}: {field-value-2}
}
</code></pre><ul>
<li><code>{field-name-*}</code> is the literal send in the request.</li>
<li><code>{field-content-type-1}</code> is the content type of the file as the value of field 1.</li>
<li><code>{field-value-2}</code> is the value of <code>{field-name-2}</code>.</li>
</ul>
<h4 id="get-a-file">Get a file</h4>
<p><code>GET /api/portals/v1/fs/{directory-path}/{subdirectory}</code></p>
<p>Require no permission to access this end point.</p>
<p>Following <a href="#append-to-a-directory">Append to a directory</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and returns response json entity.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/fs/path/141517041216756400&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Wed, 19 Nov 2014 09:09:03 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 21
Content-Type: application/json

{
    {field-name-1}: {field-content-type-1},
    {field-name-2}: {field-value-2}
}
</code></pre><h4 id="get-a-file-content">Get a file content</h4>
<p>Require no permission to access this end point.</p>
<p>Following <a href="#append-to-a-directory">Append to a directory</a>.</p>
<p><code>GET /api/portals/v1/fs/{directory-path}/{subdirectory}/{field-name}</code></p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and returns the content of the file as the value of field.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<ul>
<li>IF the myfile is a image file:</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/fs/141517041216756400/myfile&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:41:13 GMT
Status: 200 OK
Content-Length: 82
Content-Type: image/png

PNG

IHDR%VPLTEAV
IDATxcb67|IENDB`
</code></pre><ul>
<li>IF the myfile is a text file:</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/fs/path/141517041216756401/myfile&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:58:14 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 43
Content-Type: application/json

{&quot;info&quot;:[{&quot;description&quot;:{&quot;name&quot;:&quot;hello&quot;}}]}
</code></pre><h3 id="groups">Groups</h3>
<h4 id="create-group-under-user">Create group under user</h4>
<p><code>POST /api/portals/v1/users/{user-id}/groups</code></p>
<p>Create a group under a user. A group under a user may be updated only by that user. (TODO: confirm this)</p>
<h5 id="request">Request</h5>
<p>The request body is a <a href="#group-object">group object</a>. Currently, only the following keys are supported:</p>
<ul>
<li><code>&quot;name&quot;</code> - group name (optional)</li>
</ul>
<p>If you send keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the created group object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/groups&#39; \
     -X POST \
     -d &#39;{&quot;name&quot;:&quot;new group&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Tue, 18 Nov 2014 02:48:23 GMT
Status: 201 Created
Location: https://mydomain.exosite.com/api/portals/v1/groups/1206252898
Vary: Accept-Encoding
Content-Length: 163
Content-Type: application/json; charset=UTF-8

{
    &quot;id&quot;: &quot;1206252898&quot;,
    &quot;userId&quot;: &quot;3167859736&quot;,
    &quot;members&quot;: [
        {
            &quot;access&quot;: &quot;___admin&quot;,
            &quot;oid&quot;: {
                &quot;type&quot;: &quot;User&quot;,
                &quot;id&quot;: &quot;3167859736&quot;
            }
        }
    ],
    &quot;meta&quot;: null,
    &quot;name&quot;: &quot;new group&quot;,
    &quot;permissions&quot;: []
}
</code></pre><h4 id="update-group">Update group</h4>
<p><code>PUT /api/portals/v1/groups/{group-id}</code></p>
<p>Update a group</p>
<h5 id="request">Request</h5>
<p>Body contains a <a href="#group-object">group object</a>. Currently only the following keys may be updated:</p>
<ul>
<li><code>&quot;members&quot;</code> - group members (optional)</li>
<li><code>&quot;meta&quot;</code> - group meta (optional)</li>
<li><code>&quot;name&quot;</code> - group name (optional)</li>
<li><code>&quot;permissions&quot;</code> - group permissions (optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and group object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/groups/1206252898&#39; \
     -X PUT \
     -d &#39;{&quot;name&quot;:&quot;update group name&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:52:44 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 171
Content-Type: application/json; charset=UTF-8

{
    &quot;id&quot;: &quot;1206252898&quot;,
    &quot;userId&quot;: &quot;3167859736&quot;,
    &quot;members&quot;: [
        {
            &quot;access&quot;: &quot;___admin&quot;,
            &quot;oid&quot;: {
                &quot;type&quot;: &quot;User&quot;,
                &quot;id&quot;: &quot;3167859736&quot;
            }
        }
    ],
    &quot;meta&quot;: null,
    &quot;name&quot;: &quot;update group name&quot;,
    &quot;permissions&quot;: []
}
</code></pre><h4 id="get-group">Get group</h4>
<p><code>GET /api/portals/v1/groups/{group-id}</code></p>
<p>Get information about a group.</p>
<p>If you want to get more than one group information can reference <a href="#get-multiple-groups">Get multiple groups</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and body is a <a href="#group-object">group object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/groups/1206252898&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 02:51:19 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 163
Content-Type: application/json; charset=UTF-8

{
    &quot;id&quot;: &quot;1206252898&quot;,
    &quot;userId&quot;: &quot;3167859736&quot;,
    &quot;members&quot;: [
        {
            &quot;access&quot;: &quot;___admin&quot;,
            &quot;oid&quot;: {
                &quot;type&quot;: &quot;User&quot;,
                &quot;id&quot;: &quot;3167859736&quot;
            }
        }
    ],
    &quot;meta&quot;: null,
    &quot;name&quot;: &quot;new group&quot;,
    &quot;permissions&quot;: []
}
</code></pre><h4 id="delete-group">Delete group</h4>
<p><code>DELETE /api/portals/v1/groups/{group-id}</code></p>
<p>Delete a group</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 204 and empty body.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/groups/3065555968&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 18 Nov 2014 07:42:00 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="portal">Portal</h3>
<h4 id="list-portals-of-authenticated-user">List portals of authenticated user</h4>
<p><code>GET /api/portals/v1/portal/</code></p>
<p>Get a array of portals for the specified user on the domain specified in the URL of the request.</p>
<h5 id="request">Request</h5>
<p>Request body is empty. The domain name in the HTTP request is used to indicate which domains portals should be listed.</p>
<h5 id="response">Response</h5>
<p>On success, HTTP status is 200 and HTTP response body is a JSON array of portal objects. Portal objects contain the following keys:</p>
<ul>
<li><code>&quot;name&quot;</code> - Portal name</li>
<li><code>&quot;domain&quot;</code> - Portal domain</li>
<li><code>&quot;key&quot;</code> - Portal CIK (returned only if user has &quot;owner&quot; or &quot;manager&quot; level access to the portal)</li>
<li><code>&quot;rid&quot;</code> - Portal resource ID</li>
<li><p><code>&quot;role&quot;</code> - Users role for this portal. Possible values are:</p>
<ul>
<li><p><code>&quot;owner&quot;</code> - user is the portals direct owner</p>
</li>
<li><p><code>&quot;manager&quot;</code> - user has manager access to the portal. This role grants the same rights as owner. A role of <code>&quot;manager&quot;</code> indicates the portal is not a child client of this user in the One Platform hierarchy. Once you have a key to the portal the distinction is not important to the API, though.</p>
</li>
</ul>
</li>
</ul>
<p>On failure, response has a HTTP status code of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>$ curl &#39;https://mydomain.exosite.com/api/portals/v1/portal&#39; \
       -X GET \
       -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
       -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:45:50 GMT
Vary: Accept-Encoding
Content-Length: 1442
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;name&quot;: &quot;Test Sighoff 2014-06-19 16:47:21&quot;,
        &quot;rid&quot;: &quot;845e50e84fae7fe3d680f56ab79c7db31e7ab9b3&quot;,
        &quot;key&quot;: &quot;18279f186f23aea867eaadc1e2af4010017e1dba&quot;,
        &quot;role&quot;: &quot;owner&quot;,
        &quot;domain&quot;: &quot;mydomain.exosite.com&quot;
    },
    {
        &quot;name&quot;: &quot;Test Sighoff 2014-06-19 16:47:21&quot;,
        &quot;rid&quot;: &quot;9dd0f4bf2e3a55553cfae85e3b61dcae178e0544&quot;,
        &quot;key&quot;: &quot;5fbf1cd65803a8b2eeb823eeaf4a92b0bf5f2bd2&quot;,
        &quot;role&quot;: &quot;owner&quot;,
        &quot;domain&quot;: &quot;mydomain.exosite.com&quot;
    },
    ...
]
</code></pre><h3 id="portals">Portals</h3>
<h4 id="create-portal">Create portal</h4>
<p><code>POST /api/portals/v1/users/{user-id}/portals</code></p>
<p>Create a portal under a user.</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#portal-object">portal object</a>.  Currently only the following keys may be included:</p>
<ul>
<li><code>&quot;planId&quot;</code> - portals plan ID from signup page, e.g. <a href="https://portals.exosite.com/signup?plan=3676938388">https://portals.exosite.com/signup?plan=3676938388</a>. Plan must allow free signups.(optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 201 and the created <a href="#portal-object">portal object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals&#39; \
     -X POST \
     -d &#39;{&quot;planId&quot;:&quot;3676938388&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Mon, 17 Nov 2014 09:52:58 GMT
Status: 201 Created
Location: https://mydomain.exosite.com/api/portals/v1/portals/3882920427
Vary: Accept-Encoding
Content-Length: 578
Content-Type: application/json; charset=UTF-8

{
    &quot;devices&quot;: [
        &quot;3fb37448bc68d4c84d58c755fd29f187edc74694&quot;
    ],
    &quot;id&quot;: &quot;3882920427&quot;,
    &quot;info&quot;: {
        &quot;aliases&quot;: [],
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416217920,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;activated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 5,
                &quot;dataport&quot;: 50,
                &quot;datarule&quot;: 50,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: 50,
                &quot;email&quot;: 10,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: 100,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: 100,
                &quot;sms&quot;: 10,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: 100,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;9ebc9f396e86995fe52cc77a9533675c0ac8876d&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    }
}
</code></pre><h4 id="update-portal">Update portal</h4>
<p><code>PUT /api/portals/v1/portals/{portal-id}</code></p>
<p>Update information about a portal.</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#portal-object">portal object</a>.  Currently only the following keys may be updated:</p>
<ul>
<li><p><code>&quot;info&quot;</code> - Portal&#39;s Info is a array. Possible values are:</p>
<ul>
<li><p><code>&quot;aliases&quot;</code> - Aliases under info is a array.(optional) Possible values are:</p>
<ul>
<li><p><code>{rid}</code> - The under this portal&#39;s data-sources/ device rid. Possible values are:</p>
<ul>
<li><code>&quot;{aliases}&quot;</code> - The under this portal&#39;s data-sources/ device aliases is a array.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the updated portal object.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/3882920427&#39; \
     -X PUT \
     -d &#39;{&quot;info&quot;:{&quot;aliases&quot;:{&quot;3fb37448bc68d4c84d58c755fd29f187edc74694&quot;:[&quot;update aliases&quot;]}}}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 10:03:21 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 639
Content-Type: application/json; charset=UTF-8

{
    &quot;devices&quot;: [
        &quot;3fb37448bc68d4c84d58c755fd29f187edc74694&quot;
    ],
    &quot;id&quot;: &quot;3882920427&quot;,
    &quot;info&quot;: {
        &quot;aliases&quot;: {
            &quot;3fb37448bc68d4c84d58c755fd29f187edc74694&quot;: [
                &quot;update aliases&quot;
            ]
        },
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416217920,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;activated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 5,
                &quot;dataport&quot;: 50,
                &quot;datarule&quot;: 50,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: 50,
                &quot;email&quot;: 10,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: 100,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: 100,
                &quot;sms&quot;: 10,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: 100,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;9ebc9f396e86995fe52cc77a9533675c0ac8876d&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    }
}
</code></pre><h4 id="get-portal">Get portal</h4>
<p><code>GET /api/portals/v1/portals/{portal-id}</code></p>
<p>Get information about a portal.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing a <a href="#portal-object">portal object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/2853566858&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:49:38 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 578
Content-Type: application/json; charset=UTF-8

{
    &quot;devices&quot;: [
        &quot;5d4bacb783b10600e12b759bb1ae80b43666085b&quot;
    ],
    &quot;id&quot;: &quot;2853566858&quot;,
    &quot;info&quot;: {
        &quot;aliases&quot;: [],
        &quot;basic&quot;: {
            &quot;modified&quot;: 1416213843,
            &quot;subscribers&quot;: 0,
            &quot;type&quot;: &quot;client&quot;,
            &quot;status&quot;: &quot;activated&quot;
        },
        &quot;description&quot;: {
            &quot;limits&quot;: {
                &quot;client&quot;: 5,
                &quot;dataport&quot;: 50,
                &quot;datarule&quot;: 50,
                &quot;disk&quot;: &quot;inherit&quot;,
                &quot;dispatch&quot;: 50,
                &quot;email&quot;: 10,
                &quot;email_bucket&quot;: &quot;inherit&quot;,
                &quot;http&quot;: 100,
                &quot;http_bucket&quot;: &quot;inherit&quot;,
                &quot;share&quot;: 100,
                &quot;sms&quot;: 10,
                &quot;sms_bucket&quot;: &quot;inherit&quot;,
                &quot;xmpp&quot;: 100,
                &quot;xmpp_bucket&quot;: &quot;inherit&quot;
            },
            &quot;locked&quot;: false,
            &quot;meta&quot;: &quot;&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;public&quot;: false
        },
        &quot;key&quot;: &quot;607be8f93031588b7be6985a16808a7c669413d7&quot;,
        &quot;shares&quot;: [],
        &quot;subscribers&quot;: [],
        &quot;tagged&quot;: [],
        &quot;tags&quot;: []
    }
}
</code></pre><h4 id="delete-portal-by-id">Delete portal by id</h4>
<p><code>DELETE /api/portals/v1/portals/{portal-id}</code></p>
<p>delete a portal through portal ID.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the deleting successful message.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/1156616498&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Wed, 19 Nov 2014 01:59:13 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 52
Content-Type: application/json; charset=UTF-8

[&quot;myportal has been successfully deleted.&quot;]
</code></pre><h4 id="delete-portal-by-rid">Delete portal by rid</h4>
<p><code>DELETE /api/portals/v1/portals/{portal-rid}/ByRid</code></p>
<p>delete a portal through portal ID.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the deleting successful message.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/portals/de3d88a4c15a341d386e7c1cfa0fa2a3a4cf2dcb/ByRid&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Wed, 19 Nov 2014 01:59:13 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 52
Content-Type: application/json; charset=UTF-8

[&quot;myportal has been successfully deleted.&quot;]
</code></pre><h4 id="get-serial-number">Get serial number</h4>
<p><code>GET /api/portals/v1/client-models/{vendor}/{name}/sn/{serial-number}</code></p>
<p>Get information about a serial number.</p>
<ul>
<li>A device owner as a non-admin user can get serial number extra field by the domain&#39;s &quot;Allow customer to use the API to get the Serial Number extra field.&quot; setting is turned On</li>
</ul>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and return associated client id, status and extra info.</p>
<p>On failure, response has HTTP status of 404 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/client-models/myvendor/mymodel/sn/123&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserPassword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:10:30 GMT
Status: 200 OK
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8

{
    &quot;status&quot;: &quot;expired&quot;,
    &quot;rid&quot;: &quot;847699a4667a64a42eaca6ecd0f564374e64b9f7&quot;,
    &quot;extra&quot;: &quot;test for extra info&quot;,
}
</code></pre><h3 id="themes">Themes</h3>
<p>Themes are designs that are applied to your domain. Only a domain administrator user can use these Theme APIs. All theme APIs share the same prefix: <code>/api/portals/v1/themes/</code>.
<strong>Note: Image data can currently not be modified using this API</strong></p>
<h4 id="update-theme">Update theme</h4>
<p><code>PUT /api/portals/v1/themes/{themeid}</code></p>
<p>Update information about a theme.</p>
<h5 id="request">Request</h5>
<p>The body is a JSON encoded <a href="#theme-object">theme object</a>.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/themes/1083890176&#39; \
     -X PUT \
     -d &#39;{&quot;name&quot;: &quot;update_theme&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:01:39 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h4 id="get-theme">Get theme</h4>
<p><code>GET /api/portals/v1/themes/{themeid}</code></p>
<p>Get information about a theme.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and body is a <a href="#theme-object">theme object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/themes/1083890176&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 05:59:28 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 1880
Content-Type: application/json; charset=UTF-8

{
    &quot;id&quot;: &quot;1083890176&quot;,
    &quot;name&quot;: &quot;-1408691077&quot;,
    &quot;description&quot;: &quot;123&quot;,
    &quot;:default&quot;: true,
    &quot;config&quot;: {
        &quot;dashboard_background&quot;: {
            &quot;background_color&quot;: &quot;D9E4F9&quot;,
            &quot;background_image&quot;: &quot;&quot;,
            &quot;background_attachment&quot;: &quot;fixed&quot;,
            &quot;background_repeat&quot;: &quot;repeat&quot;,
            &quot;background_position&quot;: &quot;left top&quot;
        },
        &quot;header_logo&quot;: &quot;https://mydomain.exosite.com/static/png/skin_portals_bannerbrand.png?9ebccc0ccd74b887b6e0b8aabc97f3b2&quot;,
        &quot;header_bkimage&quot;: &quot;https://mydomain.exosite.com/static/png/skin_portals_bannerbg.png?62d38477d5d7a46968a168c460bf76fc&quot;,
        &quot;header_title_color&quot;: &quot;D5E04D&quot;,
        &quot;header_subtitle_color&quot;: &quot;FFFFFF&quot;,
        &quot;header_titles_position_top&quot;: &quot;1.375em&quot;,
        &quot;header_linktext_color&quot;: &quot;E5E5E5&quot;,
        &quot;header_linktextover_color&quot;: &quot;D5E04D&quot;,
        &quot;header_dropdown_text_color&quot;: &quot;FFFFFF&quot;,
        &quot;header_linktext_position_top&quot;: &quot;1.5em&quot;,
        &quot;header_portalmenu_current_color&quot;: &quot;0000FF&quot;,
        &quot;footer_text&quot;: &quot;ANY DEVICE. ANY DATA. ANY WHERE.&quot;,
        &quot;footer_text_color&quot;: &quot;D5E04D&quot;,
        &quot;footer_bar_color&quot;: &quot;D5E04D&quot;,
        &quot;footer_linktext_color&quot;: &quot;5C5D60&quot;,
        &quot;footer_linktextover_color&quot;: &quot;000000&quot;,
        &quot;block_title_text_color&quot;: &quot;000000&quot;,
        &quot;block_title_linkover_color&quot;: &quot;010101&quot;,
        &quot;block_title_back_color&quot;: &quot;D5E04D&quot;,
        &quot;block_invert_icons&quot;: &quot;0&quot;,
        &quot;managepage_highlight_text_color&quot;: &quot;0000FF&quot;,
        &quot;dashboard_thumbnail&quot;: &quot;https://mydomain.exosite.com/cache/theme/0_2110723926_dashboard_thumbnail.png&quot;,
        &quot;thankyoupage_title_text_color&quot;: &quot;D5E04D&quot;,
        &quot;browser_tab_text&quot;: &quot;Exosite Portals&quot;,
        &quot;browser_tab_icon&quot;: &quot;https://mydomain.exosite.com/static/png/icon_exosite.png?834282e60aa5c2cf2d3a6894307437dd&quot;,
        &quot;admin_menu_style&quot;: {
            &quot;admin_menu_title&quot;: &quot;Domain Admin&quot;,
            &quot;manage_menu_title&quot;: &quot;Manage&quot;,
            &quot;secondary_menu_title&quot;: &quot;Portal Menu&quot;,
            &quot;account_menu_title&quot;: &quot;Account&quot;,
            &quot;menu_title_color&quot;: &quot;E5E5E5&quot;,
            &quot;background_color&quot;: &quot;5C5D60&quot;,
            &quot;background_hover_color&quot;: &quot;A6A6A6&quot;,
            &quot;text_color&quot;: &quot;FFFFFF&quot;,
            &quot;sub_background_color&quot;: &quot;FFFFFF&quot;,
            &quot;sub_background_hover_color&quot;: &quot;A6A6A6&quot;,
            &quot;sub_text_color&quot;: &quot;5C5D60&quot;,
            &quot;text_active_color&quot;: &quot;D5E04D&quot;
        },
        &quot;jsCode&quot;: &quot;&quot;
    },
    &quot;code&quot;: &quot;&quot;
}
</code></pre><h4 id="list-themes">List themes</h4>
<p><code>GET /api/portals/v1/themes/</code></p>
<p>Returns an array of themes in this domain.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and an array of <a href="#theme-object">theme object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/themes&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 05:56:40 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 3676
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;id&quot;: &quot;1083890176&quot;,
        &quot;name&quot;: &quot;-1408691077&quot;,
        &quot;description&quot;: &quot;123&quot;,
        &quot;:default&quot;: true,
        &quot;config&quot;: {
            &quot;dashboard_background&quot;: {
                &quot;background_color&quot;: &quot;D9E4F9&quot;,
                &quot;background_image&quot;: &quot;&quot;,
                &quot;background_attachment&quot;: &quot;fixed&quot;,
                &quot;background_repeat&quot;: &quot;repeat&quot;,
                &quot;background_position&quot;: &quot;left top&quot;
            },
            &quot;header_logo&quot;: &quot;https://testing.signoff.https://mydomain.exosite.com/static/png/skin_portals_bannerbrand.png?9ebccc0ccd74b887b6e0b8aabc97f3b2&quot;,
            &quot;header_bkimage&quot;: &quot;https://mydomain.exosite.com/static/png/skin_portals_bannerbg.png?62d38477d5d7a46968a168c460bf76fc&quot;,
            &quot;header_title_color&quot;: &quot;D5E04D&quot;,
            &quot;header_subtitle_color&quot;: &quot;FFFFFF&quot;,
            &quot;header_titles_position_top&quot;: &quot;1.375em&quot;,
            &quot;header_linktext_color&quot;: &quot;E5E5E5&quot;,
            &quot;header_linktextover_color&quot;: &quot;D5E04D&quot;,
            &quot;header_dropdown_text_color&quot;: &quot;FFFFFF&quot;,
            &quot;header_linktext_position_top&quot;: &quot;1.5em&quot;,
            &quot;header_portalmenu_current_color&quot;: &quot;0000FF&quot;,
            &quot;footer_text&quot;: &quot;ANY DEVICE. ANY DATA. ANY WHERE.&quot;,
            &quot;footer_text_color&quot;: &quot;D5E04D&quot;,
            &quot;footer_bar_color&quot;: &quot;D5E04D&quot;,
            &quot;footer_linktext_color&quot;: &quot;5C5D60&quot;,
            &quot;footer_linktextover_color&quot;: &quot;000000&quot;,
            &quot;block_title_text_color&quot;: &quot;000000&quot;,
            &quot;block_title_linkover_color&quot;: &quot;010101&quot;,
            &quot;block_title_back_color&quot;: &quot;D5E04D&quot;,
            &quot;block_invert_icons&quot;: &quot;0&quot;,
            &quot;managepage_highlight_text_color&quot;: &quot;0000FF&quot;,
            &quot;dashboard_thumbnail&quot;: &quot;https://mydomain.exosite.com/cache/theme/0_2110723926_dashboard_thumbnail.png&quot;,
            &quot;thankyoupage_title_text_color&quot;: &quot;D5E04D&quot;,
            &quot;browser_tab_text&quot;: &quot;Exosite Portals&quot;,
            &quot;browser_tab_icon&quot;: &quot;https://mydomain.exosite.com/static/png/icon_exosite.png?834282e60aa5c2cf2d3a6894307437dd&quot;,
            &quot;admin_menu_style&quot;: {
                &quot;admin_menu_title&quot;: &quot;Domain Admin&quot;,
                &quot;manage_menu_title&quot;: &quot;Manage&quot;,
                &quot;secondary_menu_title&quot;: &quot;Portal Menu&quot;,
                &quot;account_menu_title&quot;: &quot;Account&quot;,
                &quot;menu_title_color&quot;: &quot;E5E5E5&quot;,
                &quot;background_color&quot;: &quot;5C5D60&quot;,
                &quot;background_hover_color&quot;: &quot;A6A6A6&quot;,
                &quot;text_color&quot;: &quot;FFFFFF&quot;,
                &quot;sub_background_color&quot;: &quot;FFFFFF&quot;,
                &quot;sub_background_hover_color&quot;: &quot;A6A6A6&quot;,
                &quot;sub_text_color&quot;: &quot;5C5D60&quot;,
                &quot;text_active_color&quot;: &quot;D5E04D&quot;
            },
            &quot;jsCode&quot;: &quot;&quot;
        },
        &quot;code&quot;: &quot;&quot;
    },
    {
        &quot;id&quot;: &quot;1272623304&quot;,
        &quot;name&quot;: &quot;default&quot;,
        &quot;description&quot;: &quot;default&quot;,
        &quot;:default&quot;: false,
        &quot;config&quot;: {
            &quot;dashboard_background&quot;: {
                &quot;background_color&quot;: &quot;F9F8DE&quot;,
                &quot;background_image&quot;: &quot;&quot;,
                &quot;background_attachment&quot;: &quot;fixed&quot;,
                &quot;background_repeat&quot;: &quot;repeat&quot;,
                &quot;background_position&quot;: &quot;left top&quot;
            },
            &quot;header_logo&quot;: &quot;https://mydomain.exosite.com/static/png/skin_portals_bannerbrand.png?9ebccc0ccd74b887b6e0b8aabc97f3b2&quot;,
            &quot;header_bkimage&quot;: &quot;https://mydomain.exosite.com/static/png/skin_portals_bannerbg.png?62d38477d5d7a46968a168c460bf76fc&quot;,
            &quot;header_title_color&quot;: &quot;D5E04D&quot;,
            &quot;header_subtitle_color&quot;: &quot;FFFFFF&quot;,
            &quot;header_titles_position_top&quot;: &quot;1.375em&quot;,
            &quot;header_linktext_color&quot;: &quot;E5E5E5&quot;,
            &quot;header_linktextover_color&quot;: &quot;D5E04D&quot;,
            &quot;header_dropdown_text_color&quot;: &quot;FFFFFF&quot;,
            &quot;header_linktext_position_top&quot;: &quot;1.5em&quot;,
            &quot;header_portalmenu_current_color&quot;: &quot;0000FF&quot;,
            &quot;footer_text&quot;: &quot;ANY DEVICE. ANY DATA. ANY WHERE.&quot;,
            &quot;footer_text_color&quot;: &quot;D5E04D&quot;,
            &quot;footer_bar_color&quot;: &quot;D5E04D&quot;,
            &quot;footer_linktext_color&quot;: &quot;5C5D60&quot;,
            &quot;footer_linktextover_color&quot;: &quot;000000&quot;,
            &quot;block_title_text_color&quot;: &quot;000000&quot;,
            &quot;block_title_linkover_color&quot;: &quot;010101&quot;,
            &quot;block_title_back_color&quot;: &quot;D5E04D&quot;,
            &quot;block_invert_icons&quot;: &quot;0&quot;,
            &quot;managepage_highlight_text_color&quot;: &quot;0000FF&quot;,
            &quot;dashboard_thumbnail&quot;: &quot;&quot;,
            &quot;thankyoupage_title_text_color&quot;: &quot;D5E04D&quot;,
            &quot;browser_tab_text&quot;: &quot;Exosite Portals&quot;,
            &quot;browser_tab_icon&quot;: &quot;https://mydomain.exosite.com/static/png/icon_exosite.png?834282e60aa5c2cf2d3a6894307437dd&quot;,
            &quot;admin_menu_style&quot;: {
                &quot;admin_menu_title&quot;: &quot;Domain Admin&quot;,
                &quot;manage_menu_title&quot;: &quot;Manage&quot;,
                &quot;secondary_menu_title&quot;: &quot;Portal Menu&quot;,
                &quot;account_menu_title&quot;: &quot;Account&quot;,
                &quot;menu_title_color&quot;: &quot;E5E5E5&quot;,
                &quot;background_color&quot;: &quot;5C5D60&quot;,
                &quot;background_hover_color&quot;: &quot;A6A6A6&quot;,
                &quot;text_color&quot;: &quot;FFFFFF&quot;,
                &quot;sub_background_color&quot;: &quot;FFFFFF&quot;,
                &quot;sub_background_hover_color&quot;: &quot;A6A6A6&quot;,
                &quot;sub_text_color&quot;: &quot;5C5D60&quot;,
                &quot;text_active_color&quot;: &quot;D5E04D&quot;
            },
            &quot;jsCode&quot;: &quot;&quot;
        },
        &quot;code&quot;: &quot;&quot;
    },
    ...
]
</code></pre><h4 id="delete-theme">Delete theme</h4>
<p><code>DELETE /api/portals/v1/themes/{themeid}</code></p>
<p>When deleting the current default theme the exosite system theme will be applied to the domain.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the body is empty.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/themes/1083890176&#39; \
     -X PUT \
     -d &#39;{&quot;name&quot;: &quot;update_theme&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 18 Nov 2014 06:06:39 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="user">User</h3>
<h4 id="register-new-user-account">Register new user account</h4>
<p><code>POST /api/portals/v1/user</code></p>
<blockquote>
<p><strong>Deprecated.</strong> This API is deprecated and should not be used.</p>
</blockquote>
<p>Signs up a new user account, sending an activation email to the specified address.</p>
<h5 id="request">Request</h5>
<p>Request body is a JSON object with the following keys:</p>
<ul>
<li><code>&quot;email&quot;</code> - new users email address (required)</li>
<li><code>&quot;password&quot;</code> - new users password (required)</li>
<li><code>&quot;plan&quot;</code> - portals plan ID from signup page, e.g. <a href="https://portals.exosite.com/signup?plan=3676938388">https://portals.exosite.com/signup?plan=3676938388</a>. Plan must allow free signups. (required)</li>
<li><code>&quot;first_name&quot;</code> - users first name (optional)</li>
<li><code>&quot;last_name&quot;</code> - users last name (optional)</li>
</ul>
<p>If <code>&quot;first_name&quot;</code> or <code>&quot;last_name&quot;</code> are omitted or empty, they are set to <code>&quot;New&quot;</code> and <code>&quot;User&quot;</code>, respectively.</p>
<p>The domain name in the HTTP request is used to indicate which domain the user should be signed up in.</p>
<h5 id="response">Response</h5>
<p>On success, HTTP status code is 200 and HTTP response body is empty.</p>
<p>On failure, HTTP status code is 400 or greater and HTTP response body contains a JSON formatted response object. Response object may contain the following keys:</p>
<ul>
<li><p><code>&quot;errors&quot;</code> - array of error identifier strings</p>
<ul>
<li><p><code>&quot;missing_*&quot;</code> - some required input was missing. E.g. missing_email indicates missing or empty (blank) email.</p>
</li>
<li><p><code>&quot;wrong_password&quot;</code> - email is already registered with Portals and the password is incorrect</p>
</li>
<li><p><code>&quot;user_exists_wrong_domain</code> - user exists on another domain</p>
</li>
<li><p><code>&quot;user_exists&quot;</code> - user already exists on this domain</p>
</li>
</ul>
</li>
<li><p><code>&quot;notices&quot;</code> - array of user-readable error strings</p>
</li>
</ul>
<h5 id="example">Example</h5>
<pre><code>$ curl &#39;https://mydomain.exosite.com/api/portals/v1/user&#39; \
       -X POST \
       -d &#39;{&quot;email&quot;: &quot;jane+testuser123@gmail.com&quot;, &quot;password&quot;:&quot;testuserP4ssword&quot;, &quot;plan&quot;:&quot;3676938388&quot;}&#39; \
       -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 06:24:51 GMT
Vary: Accept-Encoding
Content-Length: 0
Content-Type: text/html
</code></pre><h4 id="reset-user-account-password">Reset user account password</h4>
<p><code>POST /api/portals/v1/user/password</code></p>
<p>Sends a password reset email for this user.</p>
<h5 id="request">Request</h5>
<p>Request contains a JSON object with the following keys:</p>
<ul>
<li><code>&quot;email&quot;</code> - email address of a Portals user</li>
<li><p><code>&quot;action&quot;</code> - what to do. Supported values:</p>
<ul>
<li><code>&quot;reset&quot;</code> - send user a password reset request</li>
</ul>
</li>
</ul>
<h5 id="response">Response</h5>
<p>On success, HTTP status code is 200 and HTTP response body is empty.</p>
<p>On failure, HTTP status code is 400 or greater and the HTTP response body contains a JSON formatted response object. Response object may contain the following keys:</p>
<ul>
<li><p><code>&quot;errors&quot;</code> - array of error identifier strings</p>
<ul>
<li><p><code>&quot;missing_*&quot;</code> - some required input was missing. E.g. missing_email indicates missing or empty (blank) email.</p>
</li>
<li><p><code>&quot;failed&quot;</code> - some other error occurred</p>
</li>
</ul>
</li>
<li><p><code>&quot;notices&quot;</code> - array of user-readable error strings</p>
</li>
</ul>
<h5 id="example">Example</h5>
<pre><code>$ curl &#39;https://mydomain.exosite.com/api/portals/v1/user/password&#39; \
       -X POST \
       -d &#39;{&quot;action&quot;:&quot;reset&quot;, &quot;email&quot;: &quot;joe@gmail.com&quot;}&#39; \
       -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:16:12 GMT
Vary: Accept-Encoding
Content-Length: 0
Content-Type: text/html
</code></pre><h3 id="users">Users</h3>
<h4 id="create-user">Create user</h4>
<p><code>POST /api/portals/v1/users</code></p>
<p>Create a user.</p>
<ul>
<li>Non-admin and admin users can create a new account</li>
<li>A new account will only be created, if settings are as followed:<ul>
<li>Creating user with header containing X-User-Agent.<ul>
<li>Moderate New User Signup is set to <strong>OFF</strong> from admin/moderate page.</li>
<li>Set a default plan for <strong>Automatically create a portal for any user who signs up from another domain</strong> from admin/configuration page.
<img src="images/find_default_portal_setting.png" alt="Find Default Portal Setting"></li>
</ul>
</li>
<li>Creating user with header not containing X-User-Agent.<ul>
<li>Moderate New User Signup is set to <strong>OFF</strong> from admin/moderate page.</li>
</ul>
</li>
</ul>
</li>
<li>When user is created with header contains X-User-Agent, an activation email is sent to the specified address.</li>
</ul>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#user-object">user object</a>.  Currently only the following keys may be included:</p>
<ul>
<li><code>&quot;email&quot;</code> - User email (required)</li>
<li><code>&quot;userName&quot;</code> - User name.(optional)(If has no this attributes then userName will same as email.)</li>
<li><code>&quot;password&quot;</code> - User password.(optional)(If has this attributes then email will not send.)</li>
<li><code>&quot;Firstname&quot;</code> - User first name.(optional)</li>
<li><code>&quot;Lastname&quot;</code> - User last name.(optional)(If has Firstname and Lastname then Fullname will be Firstname + Lastname.)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success</p>
<ul>
<li><p>Creating user with header containing X-User-Agent.
response has HTTP status 202 and the message, and an activation email is sent to the new user.</p>
</li>
<li><p>Creating user with header not containing X-User-Agent.
response has HTTP status 201 and the created user object, and an email with a randomly generated password is sent to the new user.</p>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<ul>
<li>Creating user with header containing X-User-Agent.</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users&#39; \
     -X POST \
     -H &#39;X-User-Agent: Android&#39; \
     -d &#39;{&quot;email&quot;:&quot;newuseremail@gmail.com&quot;}&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 202 Accepted
Date: Thu, 05 Feb 2015 04:02:27 GMT
Status: 202 Accepted
Vary: Accept-Encoding
Content-Length: 184
Content-Type: application/json; charset=UTF-8

{
    &quot;code&quot;: 202,
    &quot;message&quot;: &quot;Thank you. You will receive an email confirming your new account shortly. That email will contain a link to validate and complete the account creation process.&quot;
}
</code></pre><ul>
<li>Creating user with header not containing X-User-Agent.</li>
</ul>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users&#39; \
     -X POST \
     -d &#39;{&quot;email&quot;:&quot;newuseremail@gmail.com&quot;}&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 201 Created
Date: Mon, 17 Nov 2014 08:12:25 GMT
Status: 201 Created
Vary: Accept-Encoding
Content-Length: 144
Content-Type: application/json; charset=UTF-8

{
    &quot;email&quot;: &quot;newuseremail@gmail.com&quot;,
    &quot;fullName&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;3167859736&quot;,
    &quot;rid&quot;: &quot;72ab11cdb1b5025e0f8ae8fe78b1c0c949751090&quot;,
    &quot;meta&quot;: null,
    &quot;phoneNumber&quot;: &quot;&quot;,
    &quot;activated&quot;: true,
    &quot;groups&quot;: [],
    &quot;permissions&quot;: []
}
</code></pre><h4 id="activate-a-user-account-using-activation-key">Activate a user account using activation key</h4>
<p><code>POST /api/portals/v1/users</code></p>
<p>Activate an activation email.</p>
<ul>
<li>The activation email is created by POST /users to create the user with header contains X-User-Agent</li>
</ul>
<h5 id="request">Request</h5>
<p>Request body is a JSON object.  Currently only the following key may be included:</p>
<ul>
<li><code>&quot;activationRegkey&quot;</code> - activation key (required)(Activation key can be found in the activation email that was sent when creating a user by making POST request to /users endpoint with header containing X-User-Agent.)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users&#39; \
     -X POST \
     -d &#39;{&quot;activationRegkey&quot;:&quot;21c2bdc303c23f5841b35fd0935efca42803fdeb&quot;}&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Tue, 10 Mar 2015 06:31:25 GMT
Vary: Accept-Encoding
Cache-Control: max-age=0, no-cache
Content-Length: 0
Content-Type: text/html
</code></pre><h4 id="update-user">Update user</h4>
<p><code>PUT /api/portals/v1/users/{user-id}</code></p>
<p>Update a Portals user</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#user-object">user object</a>. At the moment, only the following keys may be updated:</p>
<ul>
<li><code>&quot;activated&quot;</code> - whether a user is activated (optional)</li>
<li><code>&quot;email&quot;</code> - user email (optional)</li>
<li><code>&quot;userName&quot;</code> - User name.(optional)</li>
<li><code>&quot;fullName&quot;</code> - user full name (optional)</li>
<li><code>&quot;password&quot;</code> - User password.(optional)</li>
<li><code>&quot;meta&quot;</code> - meta (optional)</li>
<li><code>&quot;permissions&quot;</code> - user permissions (optional)</li>
<li><code>&quot;phoneNumber&quot;</code> - user phone number (optional)</li>
</ul>
<p>If you send any keys besides these, it will do nothing.</p>
<p>When User-A update User-B, User-A doesn&#39;t need to grant permission of resources from User-B which User-A doesn&#39;t have.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the updated user object.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736&#39; \
     -X PUT \
     -d &#39;{&quot;email&quot;:&quot;updatedemail@gmail.com&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:33:44 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 144
Content-Type: application/json; charset=UTF-8

{
    &quot;email&quot;: &quot;updatedemail@gmail.com&quot;,
    &quot;fullName&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;3167859736&quot;,
    &quot;rid&quot;: &quot;72ab11cdb1b5025e0f8ae8fe78b1c0c949751090&quot;,
    &quot;meta&quot;: null,
    &quot;phoneNumber&quot;: &quot;&quot;,
    &quot;activated&quot;: true,
    &quot;groups&quot;: [],
    &quot;permissions&quot;: []
}
</code></pre><h4 id="get-all-users">Get all users</h4>
<p><code>GET /api/portals/v1/users</code></p>
<p>Get information about all users.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing an array of <a href="#user-object">user object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users&#39; \
     -X GET \
     -d &#39;{&quot;email&quot;:&quot;newuseremail@gmail.com&quot;}&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:21:47 GMT
Status: 200 OK
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;email&quot;: &quot;newuseremail@gmail.com&quot;,
        &quot;fullName&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;3167859736&quot;,
        &quot;rid&quot;: &quot;72ab11cdb1b5025e0f8ae8fe78b1c0c949751090&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;,
        &quot;activated&quot;: true,
        &quot;groups&quot;: [],
        &quot;permissions&quot;: []
    },
    {
        &quot;email&quot;: &quot;olduseremail@gmail.com&quot;,
        &quot;fullName&quot;: &quot;olduser&quot;,
        &quot;id&quot;: &quot;3407735538&quot;,
        &quot;rid&quot;: &quot;72ab11cdb1b5025e0f8ae8fe78b1c0c949751090&quot;,
        &quot;meta&quot;: null,
        &quot;phoneNumber&quot;: &quot;&quot;,
        &quot;activated&quot;: true,
        &quot;groups&quot;: [],
        &quot;permissions&quot;: [
            {
                &quot;access&quot;: &quot;___admin&quot;,
                &quot;oid&quot;: {
                    &quot;type&quot;: &quot;Domain&quot;,
                    &quot;id&quot;: &quot;0000000000&quot;
                }
            }
        ]
    },
    ...
]
</code></pre><h4 id="get-all-user-portals">Get all user portals</h4>
<p><code>GET /api/portals/v1/users/{user-id}/portals</code></p>
<p>Get user have access to as a manager or private viewer.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing an array of portal object.
Portal objects contain the following keys:</p>
<ul>
<li><code>&quot;PortalName&quot;</code> - Portal name.</li>
<li><code>&quot;PortalID&quot;</code> - Portal ID.</li>
<li><code>&quot;PortalRID&quot;</code> - Portal RID.</li>
<li><code>&quot;UserEmail&quot;</code> - The user&#39;s email.</li>
<li><code>&quot;Description&quot;</code> - Portal description.</li>
<li><code>&quot;Permissions&quot;</code> - Users permission for this portal. Possible values are:<ul>
<li><code>&quot;___admin&quot;</code> - user is the portals direct owner</li>
<li><code>&quot;p_manage&quot;</code> - user has manager access to the portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to the portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from the portal.    </li>
</ul>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:36:45 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 339
Content-Type: application/json; charset=UTF-8

[
    {
        &quot;PortalName&quot;: &quot;&quot;,
        &quot;PortalID&quot;: &quot;2853566858&quot;,
        &quot;PortalRID&quot;: &quot;6800e1ee0948d39744625990d28d360f78ac2e4d&quot;,
        &quot;UserEmail&quot;: &quot;useremail@gmail.com&quot;,
        &quot;Description&quot;: &quot;Default Portal&quot;,
        &quot;Permissions&quot;:[{&quot;access&quot;:&quot;___admin&quot;}]
    },
    {
        &quot;PortalName&quot;: &quot;&quot;,
        &quot;PortalID&quot;: &quot;2978406756&quot;,
        &quot;PortalRID&quot;: &quot;dd6e30fe1a00a9718b919ccd93601ff10310238b&quot;,
        &quot;UserEmail&quot;: &quot;useremail@gmail.com&quot;,
        &quot;Description&quot;: &quot;Default Portal&quot;
        &quot;Permissions&quot;:[{&quot;access&quot;:&quot;p_manage&quot;}
    }
    ...
]
</code></pre><h4 id="get-user">Get user</h4>
<p><code>GET /api/portals/v1/users/{user-id}</code></p>
<p>Get information about a user.</p>
<p>If you want to get more than one user information can reference <a href="#get-multiple-users">Get multiple users</a>.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing a <a href="#user-object">user object</a>.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736&#39; \
     -X GET \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:18:40 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 144
Content-Type: application/json; charset=UTF-8

{
    &quot;email&quot;: &quot;newuseremail@gmail.com&quot;,
    &quot;fullName&quot;: &quot;&quot;,
    &quot;id&quot;: &quot;3167859736&quot;,
    &quot;rid&quot;: &quot;72ab11cdb1b5025e0f8ae8fe78b1c0c949751090&quot;,
    &quot;meta&quot;: null,
    &quot;phoneNumber&quot;: &quot;&quot;,
    &quot;activated&quot;: true,
    &quot;groups&quot;: [],
    &quot;permissions&quot;: []
}
</code></pre><h3 id="get-user-through-readtoken">Get user through readtoken</h3>
<p><code>GET /api/portals/v1/users/{user-id}?readtoken={user-readtoken}</code></p>
<p>Get the user information through readtoken.</p>
<ul>
<li>The token expires in 5 min once its generated.</li>
</ul>
<h4 id="request">Request</h4>
<p>Request body is empty.</p>
<h4 id="response">Response</h4>
<p>On success, response has HTTP status 200.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h4 id="example">Example</h4>
<pre><code>curl  https://mydomain.exosite.com/api/portals/v1/users/3167859736?readtoken=kDRv-JHtAjeECWSineeCRTVM-ZZyVUjpwrWLKc3DFuAjOokBcXrxtHQJ-immZyyRZbco9rG_TuOGqPpx1MRw5cvPgfEO \
      -H &#39;Content-Type: application/json&#39; \
      -u &#39;domainuseremail@gmail.com:domainuserP4ssword&#39; \
      -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:18:40 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 144
Content-Type: application/json; charset=UTF-8

{
  &quot;email&quot;:&quot;doaminUser1@gmail.com&quot;,
  &quot;fullName&quot;:&quot;doamin User1&quot;,
  &quot;id&quot;:&quot;3167859736&quot;,
  &quot;rid&quot;:&quot;fc7830446d5053abd0c212294764bb23bdedf0dd&quot;,
  &quot;meta&quot;:null,
  &quot;phoneNumber&quot;:&quot;09123456789&quot;,
  &quot;userName&quot;:&quot;doaminUser1@gmail.com&quot;,
  &quot;activated&quot;:true,&quot;groups&quot;:[],
  &quot;permissions&quot;:[{&quot;access&quot;:&quot;___admin&quot;,&quot;oid&quot;:{&quot;type&quot;:&quot;Portal&quot;,&quot;id&quot;:&quot;3349395467&quot;}}]
}
</code></pre><h4 id="get-user-token">Get user token</h4>
<p><code>GET /api/portals/v1/users/{user-id}/token</code></p>
<p>Get a portals user token. This token can be used for logging into a domain or making API calls.</p>
<h5 id="request">Request</h5>
<p>Request string.</p>
<ul>
<li><code>&quot;reDirect&quot;</code> - URL when login fail reDirect to where.
Request body is empty.</li>
</ul>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<p>Create a token</p>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/token\?reDirect\=http%3A%2F%2Fwww.google.com.tw%2F&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:39:27 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 16
Content-Type: application/json; charset=UTF-8

&quot;MzE2Nzg1OTczNq==&quot;
</code></pre><p>To use a token, put the token in the Authorization field like illustrated below, response content is skipped for clarity:</p>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this&#39; \
     -H &#39;Authorization: Token MzE2Nzg1OTczNq==&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Fri, 21 Nov 2014 08:00:10 GMT
Status: 200 OK
Vary: Accept-Encoding
Transfer-Encoding: chunked
Content-Type: application/json; charset=UTF-8
</code></pre><h3 id="get-user-readtoken">Get user readtoken</h3>
<p><code>GET /api/portals/v1/users/{user-id}/readtoken</code></p>
<p>Get a user access token then other users can get this user information without domain admin permission.</p>
<ul>
<li>The token expires in 5 min once its generated.</li>
</ul>
<h4 id="request">Request</h4>
<p>Request body is empty.</p>
<h4 id="response">Response</h4>
<p>On success, response has HTTP status 200.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h4 id="example">Example</h4>
<pre><code>curl  https://mydomain.exosite.com/api/portals/v1/users/3167859736/readtoken \
      -H &#39;Content-Type: application/json&#39; \
      -u &#39;domainadminemail@gmail.com:adminuserP4ssword&#39; \
      -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:39:27 GMT
Status: 200 OK
Vary: Accept-Encoding

Content-Type: application/json; charset=UTF-8

&quot;kDRv-JHtAjeECWSineeCRTVM-ZZyVUjpwrWLKc3DFuAjOokBcXrxtHQJ-immZyyRZbco9rG_TuOGqPpx1MRw5cvPgfEO&quot;
</code></pre><h4 id="get-user-token-for-openid-user">Get user token for OpenID user</h4>
<p><code>GET /api/portals/v1/users/_this/token</code></p>
<p>Get a portals user token. This token can be used for logging into a domain or making API calls.</p>
<ul>
<li><p>Currently, only support the OpenID Connect user of Google for App.</p>
</li>
<li><p>If the OpenID user is a new user for the domain, will create the account and portal, then grant a token from Exosite.</p>
</li>
<li><p>If the OpenID user is an existing user for the domain, then grant a token from Exosite.</p>
</li>
<li><p>A new account will only be created, if settings are as followed:</p>
<ul>
<li>Moderate New User Signup is set to <strong>OFF</strong> from admin/moderate page.</li>
<li>Set a default plan for <strong>Automatically create a portal for any user who signs up from another domain</strong> from admin/configuration page.
<img src="images/find_default_portal_setting.png" alt="Find Default Portal Setting"></li>
</ul>
</li>
</ul>
<h5 id="request">Request</h5>
<p>Request header must include some information for Authorization.</p>
<ul>
<li>Who is Oauth/OpenID server? (E.g. Google)</li>
<li>What is the short-lived authorization code of user from authorization server?</li>
</ul>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<p>Create a token</p>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/_this/token&#39; \
     -H &#39;Authorization: Google 4/S39q1GijhAxDVtx5Dwhh-9kpYBvcVj1IFMFc.4vbo5d2l_AdgKnQAx0j5UqlQI&#39; \
     -X GET \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:39:27 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 16
Content-Type: application/json; charset=UTF-8

&quot;MzE2Nzg1OTczNq==&quot;
</code></pre><h4 id="get-user-portal">Get user portal</h4>
<p><code>GET /api/portals/v1/users/{user-id}/portals/{portal-id}</code></p>
<p>Get user have access to as a manager or private viewer.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing an array of portal object.
Portal objects contain the following keys:</p>
<ul>
<li><code>&quot;PortalName&quot;</code> - Portal name.</li>
<li><code>&quot;PortalID&quot;</code> - Portal ID.</li>
<li><code>&quot;PortalRID&quot;</code> - Portal RID.</li>
<li><code>&quot;UserEmail&quot;</code> - The user&#39;s email.</li>
<li><code>&quot;Description&quot;</code> - Portal description.</li>
<li><p><code>&quot;Permissions&quot;</code> - Users permission for this portal. Possible values are:</p>
<ul>
<li><code>&quot;___admin&quot;</code> - user is the portals direct owner</li>
<li><code>&quot;p_manage&quot;</code> - user has manager access to this portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to this portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from this portal.    </li>
</ul>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals/2123755496&#39; \
     -u &#39;domainadminemail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 08:45:53 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 168
Content-Type: application/json; charset=UTF-8

[
  {
    &quot;PortalName&quot;: &quot;demo1&quot;,
    &quot;PortalID&quot;: &quot;2123755496&quot;,
    &quot;PortalRID&quot;: &quot;2c233ace8411c2af9b51b23985f86da23c732c00&quot;,
    &quot;UserEmail&quot;: &quot;demo@gmail.com&quot;,
    &quot;Description&quot;: &quot;Default Portal&quot;,
    &quot;Permissions&quot;: [
      {
        &quot;access&quot;: &quot;___admin&quot;
      }
    ]
  }
]
</code></pre><h4 id="get-all-users-portals-shares">Get all users portals shares</h4>
<p><code>GET /api/portals/v1/users/{user-id}/portals/shares</code></p>
<p>Get user own portals and portal shares information.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and the portals object.</p>
<p>On success, response has HTTP status 200 and a body containing an array of portal object include shares.
Portal objects contain the following keys:</p>
<ul>
<li><code>&quot;PortalName&quot;</code> - Portal name</li>
<li><code>&quot;PortalID&quot;</code> - Portal ID</li>
<li><code>&quot;PortalRID&quot;</code> - Portal RID</li>
<li><code>&quot;UserEmail&quot;</code> - The portals direct owner&#39;s email</li>
<li><code>&quot;Description&quot;</code> - Portal description</li>
<li><p><code>&quot;shares&quot;</code> - Containing the information of users who are being shared with this portal. Shares object contain the following keys:</p>
<ul>
<li><p><code>&quot;access&quot;</code> - Users permission for this portal. Possible values are:</p>
<ul>
<li><code>&quot;p_manage&quot;</code> - user has manager access to this portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to this portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from this portal.</li>
</ul>
</li>
<li><p><code>&quot;oid&quot;</code> - The information of the user. The object contain the following keys:</p>
<ul>
<li><code>&quot;id&quot;</code> - Id of the user who are being shared with this portal.</li>
<li><code>&quot;type&quot;</code> - The general value is <strong>User</strong>.</li>
<li><code>&quot;email&quot;</code> - Email of the user who are being shared with this portal.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals/shares&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:45:53 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 168
Content-Type: application/json; charset=UTF-8

[
  {
    &quot;PortalName&quot;: &quot;test group&quot;,
    &quot;PortalID&quot;: &quot;1173271281&quot;,
    &quot;PortalRID&quot;: &quot;2517727616d873727f5b838e9e9c6e656eaa4e27&quot;,
    &quot;UserEmail&quot;: &quot;demo2@gmail.com&quot;,
    &quot;Description&quot;: &quot;test group&quot;,
    &quot;Shares&quot;: [
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1498682908&quot;,
          &quot;email&quot;: &quot;demo1@gmail.com&quot;
        }
      },
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1838401279&quot;,
          &quot;email&quot;: &quot;demo4@gmail.com&quot;
        }
      }
    ]
  },
  {
    &quot;PortalName&quot;: &quot;test0731&quot;,
    &quot;PortalID&quot;: &quot;3456260404&quot;,
    &quot;PortalRID&quot;: &quot;b463fb13f2ab8f61f415eddd7638fdd3e4ab9f76&quot;,
    &quot;UserEmail&quot;: &quot;demo2@gmail.com&quot;,
    &quot;Description&quot;: &quot;test0731&quot;,
    &quot;Shares&quot;: [

    ]
  }
]
</code></pre><h4 id="get-user-portal-shares">Get user portal shares</h4>
<p><code>GET /api/portals/v1/users/{user-id}/portals/{portal-id}/shares</code></p>
<p>Get user own portals and portal shares information.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 200 and a body containing an array of portal object include shares.
Portal objects contain the following keys:</p>
<ul>
<li><code>&quot;PortalName&quot;</code> - Portal name</li>
<li><code>&quot;PortalID&quot;</code> - Portal ID</li>
<li><code>&quot;PortalRID&quot;</code> - Portal RID</li>
<li><code>&quot;UserEmail&quot;</code> - The portals direct owner&#39;s email</li>
<li><code>&quot;Description&quot;</code> - Portal description</li>
<li><p><code>&quot;shares&quot;</code> - Containing the information of users who are being shared with this portal. Shares object contain the following keys:</p>
<ul>
<li><p><code>&quot;access&quot;</code> - Users permission for this portal. Possible values are:</p>
<ul>
<li><code>&quot;p_manage&quot;</code> - user has manager access to this portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to this portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from this portal.</li>
</ul>
</li>
<li><p><code>&quot;oid&quot;</code> - The information of the user. The object contain the following keys:</p>
<ul>
<li><code>&quot;id&quot;</code> - Id of the user who are being shared with this portal.</li>
<li><code>&quot;type&quot;</code> - The general value is <strong>User</strong>.</li>
<li><code>&quot;email&quot;</code> - Email of the user who are being shared with this portal.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals/1173271281/shares&#39; \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:45:53 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 168
Content-Type: application/json; charset=UTF-8

[
  {
    &quot;PortalName&quot;: &quot;test group&quot;,
    &quot;PortalID&quot;: &quot;1173271281&quot;,
    &quot;PortalRID&quot;: &quot;2517727616d873727f5b838e9e9c6e656eaa4e27&quot;,
    &quot;UserEmail&quot;: &quot;demo2@exosite.com&quot;,
    &quot;Description&quot;: &quot;test group&quot;,
    &quot;Shares&quot;: [
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1498682908&quot;,
          &quot;email&quot;: &quot;demo1@exosite.com&quot;
        }
      },
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1838401279&quot;,
          &quot;email&quot;: &quot;demo4@exosite.com&quot;
        }
      }
    ]
  }
]
</code></pre><h4 id="create-user-portal-share">Create user portal share</h4>
<p><code>POST /api/portals/v1/users/{user-id}/portals/{portal-id}/shares</code></p>
<p>To share portal to other user.</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#permission-object">permission objects</a>. The object contain the following keys:</p>
<ul>
<li><p><code>&quot;access&quot;</code> - Users permission for this portal. Possible values are:</p>
<ul>
<li><code>&quot;p_manage&quot;</code> - user has manager access to this portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to this portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from this portal.</li>
</ul>
</li>
<li><p><code>&quot;oid&quot;</code> - The information of the user. The object contain the following keys:</p>
<ul>
<li><code>&quot;id&quot;</code> - Id of the user who are being shared with this portal.</li>
<li><code>&quot;type&quot;</code> - The general value is <strong>User</strong>.</li>
</ul>
</li>
</ul>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 202 Accepted and portal shares information.</p>
<p>On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals/1173271281/shares&#39; \
      -X POST -d &#39;{&quot;access&quot;: &quot;p_manage&quot;,&quot;oid&quot;:{&quot;type&quot;:&quot;User&quot;,&quot;id&quot;:&quot;1498682908&quot;}}&#39;
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 200 OK
Date: Mon, 17 Nov 2014 09:45:53 GMT
Status: 200 OK
Vary: Accept-Encoding
Content-Length: 168
Content-Type: application/json; charset=UTF-8

[
  {
    &quot;PortalName&quot;: &quot;test group&quot;,
    &quot;PortalID&quot;: &quot;1173271281&quot;,
    &quot;PortalRID&quot;: &quot;2517727616d873727f5b838e9e9c6e656eaa4e27&quot;,
    &quot;UserEmail&quot;: &quot;demo2@gmail.com&quot;,
    &quot;Description&quot;: &quot;test group&quot;,
    &quot;Shares&quot;: [
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1498682908&quot;,
          &quot;email&quot;: &quot;demo1@gmail.com&quot;
        }
      },
      {
        &quot;access&quot;: &quot;p_manage&quot;,
        &quot;oid&quot;: {
          &quot;type&quot;: &quot;User&quot;,
          &quot;id&quot;: &quot;1838401279&quot;,
          &quot;email&quot;: &quot;demo4@gmail.com&quot;
        }
      }
    ]
  }
]
</code></pre><h4 id="delete-user-portal-share">Delete user portal share</h4>
<p><code>DELETE /api/portals/v1/users/{user-id}/portals/{portal-id}/shares</code></p>
<p>To unshare a portal to other user.</p>
<h5 id="request">Request</h5>
<p>Request body is a <a href="#permission-object">permission objects</a>. The object contain the following keys:</p>
<ul>
<li><p><code>&quot;access&quot;</code> - Users permission for this portal. Possible values are:</p>
<ul>
<li><code>&quot;p_manage&quot;</code> - user has manager access to this portal. This permission grants the same rights as owner.</li>
<li><code>&quot;p_m_crea&quot;</code> - user has create device access to this portal.</li>
<li><code>&quot;p_contac&quot;</code> - user has receive alerts access from this portal.</li>
</ul>
</li>
<li><p><code>&quot;oid&quot;</code> - The information of the user. The object contain the following keys:</p>
<ul>
<li><code>&quot;id&quot;</code> - Id of the user who are being shared with this portal.</li>
<li><code>&quot;type&quot;</code> - The general value is <strong>User</strong>.</li>
</ul>
</li>
</ul>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 204 No Content and portal shares information.
On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736/portals/1173271281/shares&#39; \
      -X DELETE -d &#39;{&quot;access&quot;: &quot;p_manage&quot;,&quot;oid&quot;:{&quot;type&quot;:&quot;User&quot;,&quot;id&quot;:&quot;1498682908&quot;}}&#39;
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 18 Nov 2014 07:34:30 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8

[
  {
    &quot;PortalName&quot;: &quot;Demo&quot;,
    &quot;PortalID&quot;: &quot;3719832384&quot;,
    &quot;PortalRID&quot;: &quot;e54dbefdc89dc2369615e112016340c1e243f785&quot;,
    &quot;UserEmail&quot;: &quot;demo2@gmail.com&quot;,
    &quot;Description&quot;: &quot;Demo2 Portal&quot;,
    &quot;Shares&quot;: []
  }
]
</code></pre><h4 id="delete-user">Delete user</h4>
<p><code>DELETE /api/portals/v1/users/{user-id}</code></p>
<p>Delete a user who has no Braintree ID, no portal, no discount.</p>
<h5 id="request">Request</h5>
<p>Request body is empty.</p>
<h5 id="response">Response</h5>
<p>On success, response has HTTP status 204 and empty response.
On failure, response has HTTP status of 400 or greater.</p>
<h5 id="example">Example</h5>
<pre><code>curl &#39;https://mydomain.exosite.com/api/portals/v1/users/3167859736&#39; \
     -X DELETE \
     -u &#39;domainuseremail@gmail.com:adminuserP4ssword&#39; \
     -i
</code></pre><pre><code>HTTP/1.1 204 No Content
Date: Tue, 18 Nov 2014 07:34:30 GMT
Status: 204 No Content
Vary: Accept-Encoding
Content-Length: 0
Content-Type: application/json; charset=UTF-8
</code></pre></div>
  </div>

  <div id="markdown" style="display:none;">

  <div>

  <!-- Custom -->
  <script src='/assets/main.js'></script>

</body>
</html>
